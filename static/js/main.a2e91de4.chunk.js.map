{"version":3,"sources":["globals.d.ts","utils/globalStyles.tsx","AppReducer.tsx","components/GridContext.tsx","components/Logo.tsx","components/Header.tsx","components/Menu.tsx","views/FAQ.tsx","components/Page.tsx","components/Button.tsx","components/ButtonLink.tsx","views/Home.tsx","components/Cell.tsx","components/BlocForm.tsx","components/CellInput.tsx","components/FieldInputsMenWomen.tsx","components/ButtonSubmit.tsx","components/ActionLink.tsx","utils/helpers.tsx","views/GroupEffectif.tsx","utils/calculsEgaPro.tsx","utils/calculsEgaProIndicateurUn.tsx","components/LayoutFormAndResult.tsx","components/InfoBloc.tsx","components/ActionBar.tsx","components/FormSubmit.tsx","views/IndicateurUnForm.tsx","components/ResultBubble.tsx","views/IndicateurUnResult.tsx","views/IndicateurUn.tsx","utils/calculsEgaProIndicateurDeux.tsx","components/RadiosBoolean.tsx","views/IndicateurDeuxForm.tsx","views/IndicateurDeuxResult.tsx","views/IndicateurDeux.tsx","utils/calculsEgaProIndicateurTrois.tsx","views/IndicateurTroisForm.tsx","views/IndicateurTroisResult.tsx","views/IndicateurTrois.tsx","utils/calculsEgaProIndicateurQuatre.tsx","components/FieldInput.tsx","views/IndicateurQuatreForm.tsx","views/IndicateurQuatreResult.tsx","views/IndicateurQuatre.tsx","utils/calculsEgaProIndicateurCinq.tsx","views/IndicateurCinqForm.tsx","views/IndicateurCinqResult.tsx","views/IndicateurCinq.tsx","utils/calculsEgaProIndex.tsx","views/Recapitulatif/components/RecapBloc.tsx","views/Recapitulatif/components/RowData.tsx","views/Recapitulatif/RecapitulatifIndicateurUn.tsx","views/Recapitulatif/RecapitulatifIndicateurDeux.tsx","views/Recapitulatif/RecapitulatifIndicateurTrois.tsx","views/Recapitulatif/RecapitulatifIndicateurQuatre.tsx","views/Recapitulatif/RecapitulatifIndicateurCinq.tsx","views/Recapitulatif/Recapitulatif.tsx","views/Recapitulatif/index.js","views/PageNotFound.tsx","utils/mapEnum.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["TranchesAges","CategorieSocioPro","globalStyles","colors","default","men","women","error","invalid","grid","gutterWidth","columns","maxWidth","minWidth","updateIndicateurUn","stateData","actionData","map","group","datumCat","find","_ref5","categorieSocioPro","Object","objectSpread","tranchesAges","groupTranchesAges","datumAge","_ref6","trancheAge","assign","AppReducer","state","action","type","data","_ref3","_ref4","valid","effectif","formValidated","indicateurUn","indicateurDeux","indicateurTrois","_action$data","tauxAugmentation","presenceAugmentation","datum","_ref","_action$data2","tauxPromotion","presencePromotion","_ref2","indicateurQuatre","indicateurCinq","totalGuttersWidth","getColumnWidth","windowWidth","num","min","max","columnWidth","Math","floor","GridContext","React","createContext","window","innerWidth","GridProvider","children","_useState","useState","_useState2","slicedToArray","setColumnWidth","handleResize","useCallback","event","currentTarget","useEffect","addEventListener","removeEventListener","value","useMemo","react_default","a","createElement","Provider","useColumnsWidth","numColumns","_useGridContext","useContext","styles","container","css","display","flexDirection","width","image","height","border","text","marginTop","fontSize","textAlign","Logo","core_browser_esm","src","process","header","backgroundColor","flexShrink","alignItems","justifyContent","borderBottom","headerLeft","marginLeft","marginRight","containerLogo","headerInner","flexGrow","title","fontFamily","subtitle","Header","components_Logo","CustomNavLink","label","_ref$valid","to","_ref$activeOnlyWhenEx","activeOnlyWhenExact","react_router","path","exact","match","react_router_dom","link","activeLink","menu","paddingTop","paddingBottom","color","lineHeight","textDecoration",":hover","Menu","effectifFormValidated","indicateurUnFormValidated","indicateurDeuxFormValidated","indicateurTroisFormValidated","indicateurQuatreFormValidated","indicateurCinqFormValidated","FAQHeader","stylesHeader","textTransform","appearance","paddingLeft","paddingRight","concat","fontWeight","::placeholder","marginBottom","flex","content","overflowY","FAQ","page","tagline","Page","button","padding","borderRadius","cursor","buttonOutline","buttonError","borderColor","Button","_ref$outline","outline","_ref$error","ButtonLink","components_Button","Home","props","components_Page","components_ButtonLink","Cell","style","cell","Cell2","cell2","CellHead","cellHead","BlocFormLight","_ref2$superLight","superLight","background","blocForm","blocFormLight","blocFormSuperLight","blocFormInner","position","top","bottom","left","right","borderLeft","borderRight","blocFormWithFooter","rowHead","minHeight","rowHeadCellHead","rowHeadCell","rowHeadBorder","rowGender","cellMen","cellWomen","rowFoot","rowFootCell","rowFootTotal","rowFootBorderLeft","rowFootBorderRight","BlocForm","footer","react","hasFieldError","meta","submitFailed","touched","mustBeNumber","input","inputError","CellInput","_ref$field","field","_ref$field$input","inputProps","objectWithoutProperties","autoComplete","active","validate","requiredError","required","mustBeNumberError","Number","isNaN","row","cellHeadInvalid","cellHeadError","cellEmpty","cellEmptyMen","cellEmptyWomen","fontStyle","FieldInputsMenWomen","form","name","readOnly","calculable","calculableNumber","femmeFieldName","hommeFieldName","femmesField","useField","undefined","hommesField","femmesError","hommesError","Fragment","components_CellInput","all","ButtonSubmit","ActionLink","onClick","displayNameTranchesAges","MoinsDe30ans","De30a39ans","De40a49ans","PlusDe50ans","displayNameCategorieSocioPro","Ouvriers","Employes","Techniciens","Cadres","displayPercent","digits","arguments","length","toFixed","roundDecimal","decimal","mult","pow","round","fractionToPercentage","percentageToFraction","getFieldName","genre","parseFormValue","defaultValue","parseInt","parseStateValue","String","bloc","blocTitle","blocSubtitle","actionError","indicatorInvalid","indicatorInvalidTitle","indicatorInvalidText","indicatorInvalidLink","memo","updateEffectif","validateEffectif","infoFields","nombreSalariesFemmes","nombreSalariesHommes","nbSalarieFemmeName","nbSalarieFemmeValue","nbSalarieHommeName","nbSalarieHommeValue","initialValues","reduce","acc1","acc2","_objectSpread2","defineProperty","saveForm","formData","_ref7","_useForm","useForm","onSubmit","handleSubmit","values","hasValidationErrors","subscribe","_ref8","dirty","_ref9","totalNbSalarie","acc","_ref10","components_BlocForm","key","_ref11","components_FieldInputsMenWomen","components_ActionLink","components_ButtonSubmit","prevProps","nextProps","calculEffectifsValides","validiteGroupe","calculEcartsPonderesParGroupe","findEcartPourcentage","groupEffectifEtEcart","totalEffectifsValides","filter","effectifEtEcart","effectifsValides","ecartPourcentage","calculEcartPondere","calculTotalEcartPondere","tableauEcartsPonderes","includes","ecartPondere","val","rowEffectifsParCategorieSocioPro","calculValiditeGroupe","_tranchesAges$reduce","nombreSalariesFemmesGroupe","nombreSalariesHommesGroupe","calculTotalEffectifs","groupEffectif","_groupEffectif$reduce","totalNombreSalariesFemmes","totalNombreSalariesHommes","totalNombreSalaries","calculEffectifsIndicateurCalculable","baremeEcartRemuneration","calculEffectifsEtEcartRemuParTrancheAge","groupTrancheAge","remunerationAnnuelleBrutFemmes","remunerationAnnuelleBrutHommes","effectifs","rowEffectifsParTrancheAge","ecartRemunerationMoyenne","calculEcartRemunerationMoyenne","ecartApresApplicationSeuilPertinence","sign","abs","calculEcartApresApplicationSeuilPertinence","calculEcartsPonderesParTrancheAge","calculIndicateurEcartRemuneration","indicateurCalculable","totalEcartPondere","calculIndicateurSexeSousRepresente","indicateurEcartRemuneration","calculIndicateurEcartRemunerationAbsolute","calculNote","ceil","calculIndicateurUn","effectifEtEcartRemuParTranche","_calculTotalEffectifs","ecartsPonderesByRow","effectifsIndicateurCalculable","indicateurSexeSurRepresente","noteIndicateurUn","body","result","LayoutFormAndResult","childrenForm","childrenResult","blocText","InfoBloc","actionBar","ActionBar","FormSubmit","errorMessage","validateIndicateurUn","remunerationAnnuelleBrutFemmesName","remunerationAnnuelleBrutFemmesValue","remunerationAnnuelleBrutHommesName","remunerationAnnuelleBrutHommesValue","components_ActionBar","components_FormSubmit","blocInfo","message","messageLabel","messageData","info","ResultBubble","firstLineLabel","firstLineData","firstLineInfo","secondLineLabel","secondLineData","secondLineInfo","edit","IndicateurUnResult","components_ResultBubble","PageIndicateurUn","IndicateurUn","dispatch","_calculIndicateurUn","components_InfoBloc","components_LayoutFormAndResult","views_IndicateurUnForm","views_IndicateurUnResult","baremEcartAugmentation","calculEcartTauxAugmentation","tauxAugmentationFemmes","tauxAugmentationHommes","calculEffectifsEtEcartAugmentParCategorieSocioPro","ecartTauxAugmentation","calculTotalEffectifsEtTauxAugmentation","groupEffectifEtEcartAugment","_groupEffectifEtEcart","sommeProduitTauxAugmentationFemmes","sommeProduitTauxAugmentationHommes","totalTauxAugmentationFemmes","totalTauxAugmentationHommes","calculEcartsPonderesParCategorieSocioPro","calculIndicateurCalculable","calculIndicateurEcartAugmentation","indicateurEcartAugmentation","calculIndicateurEcartAugmentationAbsolute","calculIndicateurDeux","effectifEtEcartAugmentParGroupe","_calculTotalEffectifs2","noteIndicateurDeux","RadioField","disabled","checked","radio","fakeRadio","fakeRadioChecked","labelText","backgroundImage","radioFieldFalse","radioFieldFalseDisabled","opacity","RadiosBoolean","fieldName","labelTrue","labelFalse","parseFloat","ecartAugmentParCategorieSocioPro","updateIndicateurDeux","validateIndicateurDeux","tauxAugmentationFemmesName","tauxAugmentationFemmesValue","tauxAugmentationHommesName","tauxAugmentationHommesValue","ecartAugmentParCategorieSocioProPourTotal","groupAugment","index","infoField","components_RadiosBoolean","IndicateurDeuxResult","PageIndicateurDeux","IndicateurDeux","_calculIndicateurDeux","views_IndicateurDeuxForm","views_IndicateurDeuxResult","baremEcartPromotion","calculEcartTauxPromotion","calculEffectifsEtEcartPromoParCategorieSocioPro","tauxPromotionFemmes","tauxPromotionHommes","ecartTauxPromotion","calculTotalEffectifsEtTauxPromotion","sommeProduitTauxPromotionFemmes","sommeProduitTauxPromotionHommes","totalTauxPromotionFemmes","totalTauxPromotionHommes","calculIndicateurEcartPromotion","calculIndicateurEcartPromotionAbsolute","indicateurEcartPromotion","calculIndicateurTrois","effectifEtEcartPromoParGroupe","noteIndicateurTrois","ecartPromoParCategorieSocioPro","updateIndicateurTrois","validateIndicateurTrois","tauxPromotionFemmesName","tauxPromotionFemmesValue","tauxPromotionHommesName","tauxPromotionHommesValue","ecartPromoParCategorieSocioProPourTotal","IndicateurTroisResult","PageIndicateurTrois","IndicateurTrois","_calculIndicateurTroi","views_IndicateurTroisForm","views_IndicateurTroisResult","nombreSalariees","nombreSalarieesPeriodeAugmentation","calculIndicateurEcartNombreSalarieesAugmentees","nombreSalarieesAugmentees","indicateurEcartNombreSalarieesAugmentees","calculIndicateurQuatre","noteIndicateurQuatre","FieldInput","updateIndicateurQuatre","validateIndicateurQuatre","components_FieldInput","IndicateurQuatreResult","PageIndicateurQuatre","IndicateurQuatre","_calculIndicateurQuat","views_IndicateurQuatreForm","views_IndicateurQuatreResult","calculIndicateurNombreSalariesSexeSousRepresente","indicateurNombreSalariesSexeSousRepresente","calculIndicateurCinq","indicateurSexeSousRepresente","noteIndicateurCinq","calculator","createDecorator","updates","femmesValue","hommesValue","updateIndicateurCinq","validateIndicateurCinq","unsubscribe","IndicateurCinqResult","PageIndicateurCinq","IndicateurCinq","_calculIndicateurCinq","views_IndicateurCinqForm","views_IndicateurCinqResult","calculNoteIndex","totalPointCalculable","borderBottomBloc","borderLeftBloc","borderBottomResult","borderRightResult","blocResult","borderNoChildren","RecapBloc","resultBubble","RowDataFull","cellFull","RowLabels","labels","rowLabel","cellLabel","RowLabelFull","RowData","RecapitulatifIndicateurUn","components_RecapBloc","components_RowData","RecapitulatifIndicateurDeux","indicateurDeuxCalculable","RecapitulatifIndicateurTrois","indicateurTroisCalculable","RecapitulatifIndicateurQuatre","indicateurQuatreCalculable","RecapitulatifIndicateurCinq","indexBloc","Recapitulatif","indicateurUnSexeSurRepresente","indicateurDeuxSexeSurRepresente","indicateurTroisSexeSurRepresente","indicateurCinqSexeSousRepresente","allIndicateurValid","noteIndex","Recapitulatif_RecapitulatifIndicateurUn","Recapitulatif_RecapitulatifIndicateurDeux","Recapitulatif_RecapitulatifIndicateurTrois","Recapitulatif_RecapitulatifIndicateurQuatre","Recapitulatif_RecapitulatifIndicateurCinq","PageNotFound","enumerable","fn","history","goBack","baseGroupTranchesAgesState","baseTranchesAge","keys","v","m","baseGroupe","toConsumableArray","defaultState","localStorageEgapro","localStorage","getItem","initialState","JSON","parse","MainScrollViewWithRouter","withRouter","location","main","components_Menu","view","layout","leftColumn","rightColumn","App","_useReducer","useReducer","_useReducer2","stateStringify","stringify","setItem","basename","components_GridContext","components_Header","render","views_Home","views_GroupEffectif","views_IndicateurUn","views_IndicateurDeux","views_IndicateurTrois","views_IndicateurQuatre","views_IndicateurCinq","views_Recapitulatif","component","views_FAQ","Boolean","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a2e91de4.chunk.js","sourcesContent":["export type AppState = {\n  data: Array<Groupe>;\n  effectif: {\n    formValidated: FormState;\n  };\n  indicateurUn: {\n    formValidated: FormState;\n  };\n  indicateurDeux: {\n    formValidated: FormState;\n    presenceAugmentation: boolean;\n  };\n  indicateurTrois: {\n    formValidated: FormState;\n    presencePromotion: boolean;\n  };\n  indicateurQuatre: {\n    formValidated: FormState;\n    presenceAugmentation: boolean;\n    nombreSalariees: number | undefined;\n    nombreSalarieesPeriodeAugmentation: number | undefined;\n    nombreSalarieesAugmentees: number | undefined;\n  };\n  indicateurCinq: {\n    formValidated: FormState;\n    nombreSalariesHommes: number | undefined;\n    nombreSalariesFemmes: number | undefined;\n  };\n};\n\nexport type FormState = \"None\" | \"Valid\" | \"Invalid\";\n\nexport type ActionType =\n  | {\n      type: \"updateEffectif\";\n      data: ActionEffectifData;\n    }\n  | {\n      type: \"validateEffectif\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurUn\";\n      data: ActionIndicateurUnData;\n    }\n  | {\n      type: \"validateIndicateurUn\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurDeux\";\n      data: ActionIndicateurDeuxData;\n    }\n  | {\n      type: \"validateIndicateurDeux\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurTrois\";\n      data: ActionIndicateurTroisData;\n    }\n  | {\n      type: \"validateIndicateurTrois\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurQuatre\";\n      data: ActionIndicateurQuatreData;\n    }\n  | {\n      type: \"validateIndicateurQuatre\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurCinq\";\n      data: ActionIndicateurCinqData;\n    }\n  | {\n      type: \"validateIndicateurCinq\";\n      valid: FormState;\n    };\n\nexport type ActionEffectifData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    nombreSalariesFemmes: number | undefined;\n    nombreSalariesHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurUnData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    remunerationAnnuelleBrutFemmes: number | undefined;\n    remunerationAnnuelleBrutHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurDeuxData = {\n  presenceAugmentation: boolean;\n  tauxAugmentation: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    tauxAugmentationFemmes: number | undefined;\n    tauxAugmentationHommes: number | undefined;\n  }>;\n};\n\nexport type ActionIndicateurTroisData = {\n  presencePromotion: boolean;\n  tauxPromotion: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    tauxPromotionFemmes: number | undefined;\n    tauxPromotionHommes: number | undefined;\n  }>;\n};\n\nexport type ActionIndicateurQuatreData = {\n  presenceAugmentation: boolean;\n  nombreSalariees: number | undefined;\n  nombreSalarieesPeriodeAugmentation: number | undefined;\n  nombreSalarieesAugmentees: number | undefined;\n};\n\nexport type ActionIndicateurCinqData = {\n  nombreSalariesHommes: number | undefined;\n  nombreSalariesFemmes: number | undefined;\n};\n\nexport enum TranchesAges {\n  MoinsDe30ans,\n  De30a39ans,\n  De40a49ans,\n  PlusDe50ans\n}\n\nexport enum CategorieSocioPro {\n  Ouvriers,\n  Employes,\n  Techniciens,\n  Cadres\n}\n\nexport interface GroupTranchesAges {\n  trancheAge: TranchesAges;\n  nombreSalariesFemmes: number | undefined;\n  nombreSalariesHommes: number | undefined;\n  remunerationAnnuelleBrutFemmes: number | undefined;\n  remunerationAnnuelleBrutHommes: number | undefined;\n}\n\nexport interface Groupe {\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<GroupTranchesAges>;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n}\n","const globalStyles = {\n  colors: {\n    default: \"#191a49\",\n    men: \"#90C5C7\",\n    women: \"#8A92D9\",\n    error: \"#B7585D\",\n    invalid: \"#61676F\"\n  },\n  grid: {\n    gutterWidth: 16,\n    columns: 12,\n    maxWidth: 1440,\n    minWidth: 1024\n  }\n};\n\nexport default globalStyles;\n","import {\n  AppState,\n  Groupe,\n  GroupTranchesAges,\n  ActionType,\n  ActionEffectifData,\n  ActionIndicateurUnData\n} from \"./globals.d\";\n\nfunction AppReducer(state: AppState, action: ActionType): AppState {\n  switch (action.type) {\n    case \"updateEffectif\": {\n      return {\n        ...state,\n        data: updateEffectif(state.data, action.data)\n      };\n    }\n    case \"validateEffectif\": {\n      if (action.valid === \"None\") {\n        return {\n          ...state,\n          effectif: { ...state.effectif, formValidated: action.valid },\n          indicateurUn:\n            state.indicateurUn.formValidated === \"Valid\"\n              ? { ...state.indicateurUn, formValidated: \"Invalid\" }\n              : state.indicateurUn,\n          indicateurDeux:\n            state.indicateurDeux.formValidated === \"Valid\"\n              ? { ...state.indicateurDeux, formValidated: \"Invalid\" }\n              : state.indicateurDeux,\n          indicateurTrois:\n            state.indicateurTrois.formValidated === \"Valid\"\n              ? { ...state.indicateurTrois, formValidated: \"Invalid\" }\n              : state.indicateurTrois\n        };\n      }\n      return {\n        ...state,\n        effectif: { ...state.effectif, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurUn\": {\n      return {\n        ...state,\n        data: updateIndicateurUn(state.data, action.data)\n      };\n    }\n    case \"validateIndicateurUn\": {\n      return {\n        ...state,\n        indicateurUn: { ...state.indicateurUn, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurDeux\": {\n      const { tauxAugmentation, presenceAugmentation } = action.data;\n\n      const data = state.data.map((group: Groupe) => {\n        const datum = tauxAugmentation.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data,\n        indicateurDeux: { ...state.indicateurDeux, presenceAugmentation }\n      };\n    }\n    case \"validateIndicateurDeux\": {\n      return {\n        ...state,\n        indicateurDeux: { ...state.indicateurDeux, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurTrois\": {\n      const { tauxPromotion, presencePromotion } = action.data;\n\n      const data = state.data.map((group: Groupe) => {\n        const datum = tauxPromotion.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data,\n        indicateurTrois: { ...state.indicateurTrois, presencePromotion }\n      };\n    }\n    case \"validateIndicateurTrois\": {\n      return {\n        ...state,\n        indicateurTrois: {\n          ...state.indicateurTrois,\n          formValidated: action.valid\n        }\n      };\n    }\n    case \"updateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          ...action.data\n        }\n      };\n    }\n    case \"validateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          formValidated: action.valid\n        }\n      };\n    }\n    case \"updateIndicateurCinq\": {\n      return {\n        ...state,\n        indicateurCinq: {\n          ...state.indicateurCinq,\n          ...action.data\n        }\n      };\n    }\n    case \"validateIndicateurCinq\": {\n      return {\n        ...state,\n        indicateurCinq: {\n          ...state.indicateurCinq,\n          formValidated: action.valid\n        }\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nfunction updateEffectif(\n  stateData: AppState[\"data\"],\n  actionData: ActionEffectifData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nfunction updateIndicateurUn(\n  stateData: AppState[\"data\"],\n  actionData: ActionIndicateurUnData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nexport default AppReducer;\n","import React, {\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n  useContext,\n  ReactNode\n} from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\nconst { grid } = globalStyles;\n\nconst gutterCount = grid.columns + 1;\nconst totalGuttersWidth = gutterCount * grid.gutterWidth;\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num));\n}\n\nfunction getColumnWidth(windowWidth: number) {\n  const clampedWidth = clamp(windowWidth, grid.minWidth, grid.maxWidth);\n  const availableWidthWithoutGutters = clampedWidth - totalGuttersWidth;\n  const columnWidth = availableWidthWithoutGutters / 12;\n  return Math.floor(columnWidth);\n}\n\n// Context\n\nexport const GridContext = React.createContext({\n  columnWidth: getColumnWidth(window.innerWidth),\n  gutterWidth: grid.gutterWidth\n});\n\n// Provider\n\nfunction GridProvider({ children }: { children: ReactNode }) {\n  const [columnWidth, setColumnWidth] = useState(\n    getColumnWidth(window.innerWidth)\n  );\n\n  const handleResize = useCallback(\n    (event: any) =>\n      setColumnWidth(getColumnWidth(event.currentTarget.innerWidth)),\n    [setColumnWidth]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  });\n\n  const value = useMemo(\n    () => ({\n      columnWidth,\n      gutterWidth: grid.gutterWidth\n    }),\n    [columnWidth]\n  );\n\n  return <GridContext.Provider value={value}>{children}</GridContext.Provider>;\n}\n\nexport default GridProvider;\n\n// Consumer\n\nexport const useGridContext = () => useContext(GridContext);\n\nexport const useColumnsWidth = (numColumns: number) => {\n  const { columnWidth, gutterWidth } = useGridContext();\n  return columnWidth * numColumns + gutterWidth * (numColumns - 1);\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nfunction Logo() {\n  return (\n    <div css={styles.container}>\n      <img css={styles.image} src={process.env.PUBLIC_URL + \"/marianne.png\"} />\n      <span css={styles.text}>ministère du travail</span>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 76\n  }),\n  image: css({\n    display: \"block\",\n    width: 76,\n    height: 46,\n    border: \"solid black 1px\"\n  }),\n  text: css({\n    marginTop: 3,\n    fontSize: 9,\n    textAlign: \"center\"\n  })\n};\n\nexport default Logo;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\nimport Logo from \"./Logo\";\n\nfunction Header() {\n  const width = useColumnsWidth(2);\n  return (\n    <header css={styles.header}>\n      <div css={[styles.headerLeft, css({ width })]}>\n        <div css={styles.containerLogo}>\n          <Logo />\n        </div>\n      </div>\n      <div css={styles.headerInner}>\n        <p css={styles.title}>Egapro</p>\n        <p css={styles.subtitle}>\n          L'outil de simulation en ligne de vos indicateurs\n        </p>\n      </div>\n    </header>\n  );\n}\n\nconst styles = {\n  header: css({\n    backgroundColor: \"#FFF\",\n    height: 80,\n    flexShrink: 0,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderBottom: \"1px solid #EFECEF\"\n  }),\n  headerLeft: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  containerLogo: css({\n    marginLeft: \"auto\",\n    marginRight: 25\n  }),\n  headerInner: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n    alignItems: \"baseline\"\n  }),\n  title: css({\n    fontFamily: \"'Gabriela', serif\",\n    marginRight: 24,\n    fontSize: 24\n  }),\n  subtitle: css({\n    fontFamily: \"'Gabriela', serif\",\n    fontSize: 12\n  })\n};\n\nexport default Header;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Route, Link } from \"react-router-dom\";\n\nimport { FormState } from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\ninterface CustomNavLinkProps {\n  title: string;\n  label?: string;\n  valid?: FormState;\n  to: string;\n  activeOnlyWhenExact?: boolean;\n}\n\nfunction CustomNavLink({\n  title,\n  label,\n  valid = \"None\",\n  to,\n  activeOnlyWhenExact = false\n}: CustomNavLinkProps) {\n  return (\n    <Route\n      path={to}\n      exact={activeOnlyWhenExact}\n      children={({ match }) => (\n        <Link to={to} css={[styles.link, match && styles.activeLink]}>\n          <span>\n            {valid === \"Valid\" ? \"✓ \" : valid === \"Invalid\" ? \"✕ \" : \"\"}\n            {title}\n          </span>\n          <br />\n          {label && <span>{label}</span>}\n        </Link>\n      )}\n    />\n  );\n}\n\ninterface Props {\n  effectifFormValidated: FormState;\n  indicateurUnFormValidated: FormState;\n  indicateurDeuxFormValidated: FormState;\n  indicateurTroisFormValidated: FormState;\n  indicateurQuatreFormValidated: FormState;\n  indicateurCinqFormValidated: FormState;\n}\n\nfunction Menu({\n  effectifFormValidated,\n  indicateurUnFormValidated,\n  indicateurDeuxFormValidated,\n  indicateurTroisFormValidated,\n  indicateurQuatreFormValidated,\n  indicateurCinqFormValidated\n}: Props) {\n  const width = useColumnsWidth(2);\n\n  return (\n    <div css={[styles.menu, css({ width })]}>\n      <CustomNavLink\n        to=\"/effectifs\"\n        title=\"effectif\"\n        valid={effectifFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur1\"\n        title=\"indicateur 1\"\n        label=\"écart de rémunération\"\n        valid={indicateurUnFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur2\"\n        title=\"indicateur 2\"\n        label=\"écart d’augmentation\"\n        valid={indicateurDeuxFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur3\"\n        title=\"indicateur 3\"\n        label=\"écart de promotions\"\n        valid={indicateurTroisFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur4\"\n        title=\"indicateur 4\"\n        label=\"congé maternité\"\n        valid={indicateurQuatreFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur5\"\n        title=\"indicateur 5\"\n        label=\"hautes rémunérations\"\n        valid={indicateurCinqFormValidated}\n      />\n      <CustomNavLink to=\"/recapitulatif\" title=\"récapitulatif\" />\n    </div>\n  );\n}\n\nconst styles = {\n  menu: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  link: css({\n    paddingTop: 7,\n    paddingBottom: 7,\n    color: globalStyles.colors.default,\n    fontSize: 12,\n    lineHeight: \"15px\",\n    textDecoration: \"none\",\n    \":hover\": {\n      color: globalStyles.colors.women\n    }\n  }),\n  activeLink: css({\n    color: globalStyles.colors.women\n  })\n};\n\nexport default Menu;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nfunction FAQHeader() {\n  return (\n    <div css={stylesHeader.container}>\n      <span css={stylesHeader.title}>Aide</span>\n    </div>\n  );\n}\n\nconst stylesHeader = {\n  container: css({\n    height: 80,\n    flexShrink: 0,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderBottom: \"1px solid #EFECEF\",\n\n    marginRight: 29,\n    marginLeft: 29\n  }),\n  title: css({\n    fontFamily: \"'Gabriela', serif\",\n    fontSize: 18\n  })\n};\n\nfunction FAQTitle({ children }: { children: ReactNode }) {\n  return <span css={stylesTitle.title}>{children}</span>;\n}\n\nconst stylesTitle = {\n  title: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    color: globalStyles.colors.women,\n    textTransform: \"uppercase\"\n  })\n};\n\nfunction FAQSearchBox() {\n  return (\n    <input\n      css={stylesSearchBox.input}\n      type=\"search\"\n      placeholder=\"saisissez un mot clef\"\n    />\n  );\n}\n\nconst stylesSearchBox = {\n  input: css({\n    appearance: \"none\",\n    height: 52,\n    paddingLeft: 26,\n    paddingRight: 26,\n    border: `solid ${globalStyles.colors.women} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    fontWeight: \"bold\",\n    color: globalStyles.colors.women,\n    \"::placeholder\": {\n      fontWeight: \"normal\",\n      color: globalStyles.colors.women\n    }\n  })\n};\n\nfunction FAQSectionRow({ title, detail }: { title: string; detail: string }) {\n  return (\n    <div css={stylesSectionRow.container}>\n      <div css={stylesSectionRow.row}>\n        <span css={stylesSectionRow.title}>{title}</span>\n        <span css={stylesSectionRow.chevron}>›</span>\n      </div>\n      <span css={stylesSectionRow.detail}>{detail}</span>\n    </div>\n  );\n}\n\nconst stylesSectionRow = {\n  container: css({\n    marginTop: 14,\n    marginBottom: 14\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    justifyContent: \"space-between\",\n    marginBottom: 6\n  }),\n  title: css({\n    fontSize: 12,\n    fontWeight: \"bold\",\n    lineHeight: \"15px\",\n    color: globalStyles.colors.women,\n    textTransform: \"uppercase\"\n  }),\n  chevron: css({\n    marginLeft: 14,\n    lineHeight: \"15px\",\n    color: globalStyles.colors.women\n  }),\n  detail: css({\n    fontSize: 14,\n    lineHeight: \"17px\"\n  })\n};\n\nfunction FAQ() {\n  return (\n    <div css={styles.container}>\n      <FAQHeader />\n\n      <div css={styles.content}>\n        <img css={css({})} src={process.env.PUBLIC_URL + \"/faq-fake.png\"} />\n        {/*<div css={css({ marginBottom: 26 })}>\n          <FAQTitle>Champ d'application et entrée en vigueur</FAQTitle>\n        </div>\n\n        <FAQSearchBox />\n\n        <div\n          css={css({\n            marginTop: 14,\n            marginBottom: 14,\n            display: \"flex\",\n            flexDirection: \"column\"\n          })}\n        >\n          <FAQSectionRow\n            title=\"Champ d'application et entrée en vigueur\"\n            detail=\"4 articles\"\n          />\n          <FAQSectionRow\n            title=\"Périeffectifs à prendre en compte pour le calcul des indicateurs de référence\"\n            detail=\"6 articles\"\n          />\n        </div>*/}\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n    // paddingRight: 29,\n    // paddingLeft: 29\n  }),\n  content: css({\n    overflowY: \"auto\",\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n    //paddingTop: 26\n  })\n};\n\nexport default FAQ;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  title: string;\n  tagline?: string;\n  children: ReactNode;\n}\n\nfunction Page({ title, tagline, children }: Props) {\n  return (\n    <div css={styles.page}>\n      <p css={styles.title}>{title}</p>\n      {tagline && <p css={styles.tagline}>{tagline}</p>}\n      {children}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  title: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  tagline: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  })\n};\n\nexport default Page;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction Button({ label, outline = false, error = false }: Props) {\n  return (\n    <div\n      css={[\n        styles.button,\n        outline && styles.buttonOutline,\n        error && styles.buttonError\n      ]}\n    >\n      {label}\n    </div>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 36,\n    minWidth: 110,\n    padding: \"0 10px\",\n    backgroundColor: globalStyles.colors.women,\n    color: \"#FFF\",\n    border: `solid ${globalStyles.colors.women} 1px`,\n    borderRadius: 5,\n    cursor: \"pointer\"\n  }),\n  buttonOutline: css({\n    color: globalStyles.colors.women,\n    backgroundColor: \"#FFF\"\n  }),\n  buttonError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error,\n    backgroundColor: \"#FFF\"\n  })\n};\n\nexport default Button;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  to: string;\n}\n\nfunction ButtonLink({ label, to }: Props) {\n  return (\n    <Link to={to} css={styles.button}>\n      <Button label={label} />\n    </Link>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"inline-flex\",\n    textDecoration: \"none\"\n  })\n};\n\nexport default ButtonLink;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport Page from \"../components/Page\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nfunction Home(props: RouteComponentProps) {\n  return (\n    <Page\n      title=\"Bienvenue sur Egapro\"\n      tagline=\"5 indicateurs pour résorber les inégalités entre les femmes et les hommes en entreprise.\"\n    >\n      <div css={styles.action}>\n        <ButtonLink to=\"/effectifs\" label=\"commencer la simulation\" />\n      </div>\n    </Page>\n  );\n}\n\nconst styles = {\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: 18\n  })\n};\n\nexport default Home;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  style?: any;\n  children?: ReactNode;\n}\n\nfunction Cell({ style, children }: Props) {\n  return <div css={[styles.cell, style]}>{children}</div>;\n}\n\nfunction Cell2({ style, children }: Props) {\n  return <div css={[styles.cell2, style]}>{children}</div>;\n}\n\nfunction CellHead({ style, children }: Props) {\n  return <div css={[styles.cellHead, style]}>{children}</div>;\n}\n\nconst styles = {\n  cell: css({\n    width: 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cell2: css({\n    width: 62 + 8 + 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cellHead: css({\n    flexGrow: 1,\n    marginRight: 2\n  })\n};\n\nexport { Cell, Cell2, CellHead };\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Fragment, ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\n\ninterface Props {\n  title?: string;\n  label?: string;\n  footer?: string | [string, string];\n  children: ReactNode;\n  style?: any;\n}\n\nfunction BlocForm({ title, label, footer, children, style }: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div css={[styles.blocForm, footer && styles.blocFormWithFooter]}>\n        <div css={styles.rowHead}>\n          <CellHead style={styles.rowHeadCellHead}>{title}</CellHead>\n          <Cell2 style={styles.rowHeadCell}>{label}</Cell2>\n          <div css={styles.rowHeadBorder} />\n        </div>\n\n        <div css={styles.rowGender}>\n          <CellHead />\n          <Cell style={styles.cellMen}>hommes</Cell>\n          <Cell style={styles.cellWomen}>femmes</Cell>\n        </div>\n\n        <div css={styles.blocFormInner}>{children}</div>\n\n        {footer && (\n          <div css={styles.rowFoot}>\n            <div css={styles.rowFootBorderLeft} />\n            <div css={styles.rowFootTotal}>total</div>\n            {typeof footer === \"string\" ? (\n              <Cell2 style={styles.rowFootCell}>{footer}</Cell2>\n            ) : (\n              <Fragment>\n                <Cell style={styles.rowFootCell}>{footer[0]}</Cell>\n                <Cell style={styles.rowFootCell}>{footer[1]}</Cell>\n              </Fragment>\n            )}\n\n            <div css={styles.rowFootBorderRight} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport function BlocFormLight({\n  children,\n  superLight = false\n}: {\n  children: ReactNode;\n  superLight?: boolean;\n}) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div\n        css={[\n          styles.blocForm,\n          styles.blocFormLight,\n          superLight && styles.blocFormSuperLight\n        ]}\n      >\n        <div css={styles.blocFormInner}>{children}</div>\n      </div>\n    </div>\n  );\n}\n\nconst PADDING = 20;\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    marginTop: 50 + 14,\n    marginBottom: 20 + 14\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -50,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocForm: css({\n    position: \"relative\",\n    borderLeft: `solid ${globalStyles.colors.default} 1px`,\n    borderRight: `solid ${globalStyles.colors.default} 1px`,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    paddingTop: 8,\n    paddingBottom: 8\n  }),\n  blocFormWithFooter: css({\n    borderBottom: \"none\",\n    paddingBottom: 8 + 8\n  }),\n  blocFormLight: css({\n    borderRight: \"none\"\n  }),\n  blocFormSuperLight: css({\n    borderBottom: \"none\"\n  }),\n\n  blocFormInner: css({\n    paddingRight: PADDING,\n    paddingLeft: PADDING\n  }),\n\n  rowHead: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: \"100%\",\n    marginBottom: -9,\n    minHeight: 16,\n    paddingLeft: PADDING\n  }),\n  rowHeadCellHead: css({\n    fontSize: 14,\n    textTransform: \"uppercase\"\n  }),\n  rowHeadCell: css({\n    height: 16,\n    fontSize: 11,\n    textAlign: \"center\"\n  }),\n  rowHeadBorder: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    flexShrink: 0,\n    width: PADDING,\n    marginBottom: 8\n  }),\n\n  rowGender: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    paddingRight: PADDING,\n    paddingLeft: PADDING,\n    marginTop: 12,\n    marginBottom: 12\n  }),\n  cellMen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.women\n  }),\n\n  rowFoot: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 16,\n    position: \"absolute\",\n    bottom: -7,\n    right: 0,\n    left: 0\n  }),\n  rowFootCell: css({\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  rowFootTotal: css({\n    fontSize: 14,\n    marginLeft: 8\n  }),\n  rowFootBorderLeft: css({\n    height: 1,\n    marginRight: 2,\n    backgroundColor: globalStyles.colors.default,\n    flex: 1\n  }),\n  rowFootBorderRight: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    width: PADDING,\n    flexShrink: 0\n  })\n};\n\nexport default BlocForm;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { FieldRenderProps } from \"react-final-form-hooks\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { Cell } from \"./Cell\";\n\nexport const hasFieldError = (meta: FieldRenderProps[\"meta\"]) =>\n  (meta.error && meta.submitFailed) ||\n  (meta.error && meta.touched && meta.error.mustBeNumber);\n\ninterface Props {\n  field: FieldRenderProps;\n  style?: any;\n}\n\nfunction CellInput({\n  field: {\n    input: { value, ...inputProps },\n    meta\n  },\n  style\n}: Props) {\n  const error = hasFieldError(meta);\n  return (\n    <Cell style={styles.cell}>\n      <input\n        css={[styles.input, style, error && styles.inputError]}\n        autoComplete=\"off\"\n        value={error && !meta.active ? \"erreur\" : value}\n        {...inputProps}\n      />\n    </Cell>\n  );\n}\n\nconst styles = {\n  cell: css({\n    height: 22,\n    display: \"flex\"\n  }),\n  input: css({\n    appearance: \"none\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  inputError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error\n  })\n};\n\nexport default CellInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport React from \"react\";\nimport { useField } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\n\nconst required = (value: string): boolean => (value ? false : true);\n\nconst mustBeNumber = (value: string): boolean =>\n  Number.isNaN(Number(value)) ? true : false;\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  name: string;\n  calculable: boolean;\n  calculableNumber: number;\n  femmeFieldName: string;\n  hommeFieldName: string;\n}\n\nfunction FieldInputsMenWomen({\n  form,\n  name,\n  readOnly,\n  calculable,\n  calculableNumber,\n  femmeFieldName,\n  hommeFieldName\n}: Props) {\n  const femmesField = useField(\n    femmeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n  const hommesField = useField(\n    hommeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n\n  const femmesError = hasFieldError(femmesField.meta);\n  const hommesError = hasFieldError(hommesField.meta);\n  const error = femmesError || hommesError;\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead\n          style={[\n            styles.cellHead,\n            !calculable && styles.cellHeadInvalid,\n            error && calculable && styles.cellHeadError\n          ]}\n        >\n          {femmesField.meta.valid && hommesField.meta.valid\n            ? calculable\n              ? \"✓ \"\n              : \"✕ \"\n            : error\n            ? \"✕ \"\n            : null}\n          {name}\n        </CellHead>\n\n        {readOnly ? (\n          <React.Fragment>\n            <Cell style={[styles.cellEmpty, styles.cellEmptyMen]}>\n              {hommesField.input.value}\n            </Cell>\n\n            <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n              {femmesField.input.value}\n            </Cell>\n          </React.Fragment>\n        ) : calculable ? (\n          <React.Fragment>\n            <CellInput field={hommesField} style={styles.cellMen} />\n\n            <CellInput field={femmesField} style={styles.cellWomen} />\n          </React.Fragment>\n        ) : (\n          <Cell2 css={styles.cell2} />\n        )}\n      </div>\n      {!calculable && (\n        <div css={styles.invalid}>\n          Le groupe ne peut pas être pris en compte pour le calcul\n          <br />\n          car il comporte moins de {calculableNumber} femmes ou{\" \"}\n          {calculableNumber} hommes\n        </div>\n      )}\n      {error && calculable && (\n        <div css={styles.error}>\n          ce champs n’est pas valide, renseignez une valeur numérique\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  cellHead: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\"\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cell2: css({\n    textAlign: \"center\"\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  invalid: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 23,\n    paddingBottom: 4,\n    color: globalStyles.colors.invalid,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.invalid} 1px`\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default FieldInputsMenWomen;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction ButtonSubmit({ label, outline = false, error = false }: Props) {\n  return (\n    <button type=\"submit\" css={styles.button}>\n      <Button label={label} outline={outline} error={error} />\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\"\n  })\n};\n\nexport default ButtonSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n  onClick: () => void;\n}\n\nfunction ActionLink({ children, onClick }: Props) {\n  return (\n    <button css={styles.button} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    textAlign: \"center\",\n    textDecoration: \"underline\"\n  })\n};\n\nexport default ActionLink;\n","import { TranchesAges, CategorieSocioPro } from \"../globals.d\";\n\nexport function displayNameTranchesAges(trancheAge: TranchesAges): string {\n  switch (trancheAge) {\n    case TranchesAges.MoinsDe30ans:\n      return \"moins de 30 ans\";\n    case TranchesAges.De30a39ans:\n      return \"30 à 39 ans\";\n    case TranchesAges.De40a49ans:\n      return \"40 à 49 ans\";\n    case TranchesAges.PlusDe50ans:\n      return \"50 ans et plus\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayNameCategorieSocioPro(\n  categorieSocioPro: CategorieSocioPro\n): string {\n  switch (categorieSocioPro) {\n    case CategorieSocioPro.Ouvriers:\n      return \"ouvriers\";\n    case CategorieSocioPro.Employes:\n      return \"employés\";\n    case CategorieSocioPro.Techniciens:\n      return \"techniciens et agents de maîtrise\";\n    case CategorieSocioPro.Cadres:\n      return \"ingénieurs et cadres\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayPercent(num: number, digits: number = 2): string {\n  return (num * 100).toFixed(digits) + \"%\";\n}\n\n/* Utils */\n\nexport const roundDecimal = (num: number, decimal: number): number => {\n  const mult = Math.pow(10, decimal);\n  return Math.round(num * mult) / mult;\n};\n\nexport const fractionToPercentage = (num: number) => roundDecimal(num * 100, 5);\n\nexport const percentageToFraction = (num: number) => roundDecimal(num / 100, 5);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { Link, RouteComponentProps } from \"react-router-dom\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  AppState,\n  FormState,\n  CategorieSocioPro,\n  TranchesAges,\n  GroupTranchesAges,\n  ActionEffectifData\n} from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport ButtonSubmit from \"../components/ButtonSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  updateEffectif: (data: ActionEffectifData) => void;\n  validateEffectif: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"nombreSalaries\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction GroupEffectif({ state, updateEffectif, validateEffectif }: Props) {\n  const infoFields = state.data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            nbSalarieFemmeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            nbSalarieFemmeValue: parseStateValue(nombreSalariesFemmes),\n            nbSalarieHommeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            nbSalarieHommeValue: parseStateValue(nombreSalariesHommes)\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          nbSalarieFemmeName,\n          nbSalarieFemmeValue,\n          nbSalarieHommeName,\n          nbSalarieHommeValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [nbSalarieFemmeName]: nbSalarieFemmeValue,\n          [nbSalarieHommeName]: nbSalarieHommeValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionEffectifData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => ({\n            trancheAge,\n            nombreSalariesFemmes: parseFormValue(formData[nbSalarieFemmeName]),\n            nombreSalariesHommes: parseFormValue(formData[nbSalarieHommeName])\n          })\n        )\n      })\n    );\n    updateEffectif(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateEffectif(\"Valid\");\n  };\n\n  const {\n    form,\n    handleSubmit,\n    values,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  const width = useColumnsWidth(4);\n\n  return (\n    <div css={styles.page}>\n      <p css={styles.blocTitle}>Indication des effectifs</p>\n      <p css={styles.blocSubtitle}>\n        Renseignez le nombre d’effectifs par catégorie socio-professionnelle\n        (CSP) et par tranche d’âge.\n      </p>\n\n      <form onSubmit={handleSubmit} css={[styles.bloc, css({ width })]}>\n        {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n          const totalNbSalarie = tranchesAges.reduce(\n            (acc, { nbSalarieFemmeName, nbSalarieHommeName }) => {\n              return (\n                acc +\n                parseFormValue(values[nbSalarieFemmeName], 0) +\n                parseFormValue(values[nbSalarieHommeName], 0)\n              );\n            },\n            0\n          );\n          return (\n            <BlocForm\n              key={categorieSocioPro}\n              title={displayNameCategorieSocioPro(categorieSocioPro)}\n              label=\"nombre de salariés\"\n              footer={String(totalNbSalarie)}\n            >\n              {tranchesAges.map(\n                ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => {\n                  return (\n                    <FieldInputsMenWomen\n                      key={trancheAge}\n                      readOnly={state.effectif.formValidated === \"Valid\"}\n                      form={form}\n                      name={displayNameTranchesAges(trancheAge)}\n                      calculable={true}\n                      calculableNumber={0}\n                      femmeFieldName={nbSalarieFemmeName}\n                      hommeFieldName={nbSalarieHommeName}\n                    />\n                  );\n                }\n              )}\n            </BlocForm>\n          );\n        })}\n\n        {state.effectif.formValidated === \"Valid\" ? (\n          <div css={styles.action}>\n            <ButtonLink to=\"/indicateur1\" label=\"suivant\" />\n            <ActionLink onClick={() => validateEffectif(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </div>\n        ) : (\n          <div css={styles.action}>\n            <div\n              css={css({ flexDirection: \"column\", alignItems: \"flex-start\" })}\n            >\n              <ButtonSubmit\n                label=\"valider\"\n                outline={hasValidationErrors}\n                error={submitFailed && hasValidationErrors}\n              />\n              {submitFailed && hasValidationErrors && (\n                <p css={styles.actionError}>\n                  vous ne pouvez pas valider les effectifs\n                  <br />\n                  tant que vous n’avez pas rempli tous les champs\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </form>\n\n      {state.effectif.formValidated === \"Valid\" &&\n        state.indicateurUn.formValidated === \"Invalid\" && (\n          <div css={styles.indicatorInvalid}>\n            <p css={styles.indicatorInvalidTitle}>\n              Vos effectifs ont été modifiés\n            </p>\n            <p css={styles.indicatorInvalidText}>\n              afin de s'assurer de la cohérence de votre index, merci de\n              vérifier les données de vos indicateurs.\n            </p>\n            <p css={styles.indicatorInvalidText}>\n              <Link to=\"/indicateur1\" css={styles.indicatorInvalidLink}>\n                aller à l'indicateur 1\n              </Link>\n            </p>\n          </div>\n        )}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  blocTitle: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  blocSubtitle: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 46,\n    marginBottom: 36\n  }),\n  actionError: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  }),\n\n  indicatorInvalid: css({\n    padding: 16,\n    border: `solid ${globalStyles.colors.default} 1px`\n  }),\n  indicatorInvalidTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  indicatorInvalidText: css({\n    marginTop: 4,\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  indicatorInvalidLink: css({\n    color: globalStyles.colors.default,\n    textDecoration: \"underline\"\n  })\n};\n\nexport default memo(\n  GroupEffectif,\n  (prevProps, nextProps) =>\n    prevProps.state.effectif.formValidated ===\n    nextProps.state.effectif.formValidated\n);\n","import { GroupTranchesAges } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\n/* EFFECTIF CONST */\n\nexport const tauxEffectifValide = 40 / 100;\n\n//////////////////\n// COMMON ////////\n//////////////////\n\n// EV\nconst calculEffectifsValides = (\n  validiteGroupe: boolean,\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): number => (validiteGroupe ? nombreSalariesFemmes + nombreSalariesHommes : 0);\n\n// EP\nconst calculEcartPondere = (\n  validiteGroupe: boolean,\n  ecartPourcentage: number | undefined,\n  effectifsValides: number,\n  totalEffectifsValides: number\n): number | undefined =>\n  validiteGroupe && totalEffectifsValides > 0 && ecartPourcentage !== undefined\n    ? roundDecimal(\n        (ecartPourcentage * effectifsValides) / totalEffectifsValides,\n        3\n      )\n    : undefined;\n\nexport const calculEcartsPonderesParGroupe = (\n  findEcartPourcentage: (groupEffectifEtEcartAugment: {\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }) => number | undefined\n) => (\n  groupEffectifEtEcart: Array<{\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }>,\n  totalEffectifsValides: number\n) =>\n  groupEffectifEtEcart\n    .filter(({ validiteGroupe }) => validiteGroupe)\n    .map(effectifEtEcart => {\n      const { validiteGroupe, effectifsValides } = effectifEtEcart;\n      const ecartPourcentage = findEcartPourcentage(effectifEtEcart);\n      // EP\n      const ecartPondere = calculEcartPondere(\n        validiteGroupe,\n        ecartPourcentage,\n        effectifsValides,\n        totalEffectifsValides\n      );\n\n      return ecartPondere;\n    });\n\n// TEP\nexport const calculTotalEcartPondere = (\n  tableauEcartsPonderes: Array<number | undefined>\n): number | undefined =>\n  tableauEcartsPonderes.length === 0 ||\n  tableauEcartsPonderes.includes(undefined)\n    ? undefined\n    : roundDecimal(\n        tableauEcartsPonderes\n          .filter(ecartPondere => ecartPondere !== undefined)\n          .reduce(\n            (acc, val) => (acc || 0) + (val !== undefined ? val : 0),\n            undefined\n          ) || 0,\n        3\n      );\n\n//////////////////\n// EFFECTIFS /////\n//////////////////\n\nexport interface effectifGroup {\n  nombreSalariesFemmes: number;\n  nombreSalariesHommes: number;\n  validiteGroupe: boolean;\n  effectifsValides: number;\n}\n\nexport const rowEffectifsParTrancheAge = (\n  { nombreSalariesFemmes, nombreSalariesHommes }: GroupTranchesAges,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  nombreSalariesFemmes = nombreSalariesFemmes || 0;\n  nombreSalariesHommes = nombreSalariesHommes || 0;\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n\n  return {\n    nombreSalariesFemmes,\n    nombreSalariesHommes,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const rowEffectifsParCategorieSocioPro = (\n  tranchesAges: Array<GroupTranchesAges>,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  const {\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  } = tranchesAges.reduce(\n    (\n      { nombreSalariesFemmesGroupe, nombreSalariesHommesGroupe },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => ({\n      nombreSalariesFemmesGroupe:\n        nombreSalariesFemmesGroupe + (nombreSalariesFemmes || 0),\n      nombreSalariesHommesGroupe:\n        nombreSalariesHommesGroupe + (nombreSalariesHommes || 0)\n    }),\n    { nombreSalariesFemmesGroupe: 0, nombreSalariesHommesGroupe: 0 }\n  );\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n\n  return {\n    nombreSalariesFemmes: nombreSalariesFemmesGroupe,\n    nombreSalariesHommes: nombreSalariesHommesGroupe,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const calculTotalEffectifs = (groupEffectif: Array<effectifGroup>) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes\n  } = groupEffectif.reduce(\n    (\n      { totalNombreSalariesFemmes, totalNombreSalariesHommes },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => {\n      return {\n        totalNombreSalariesFemmes:\n          totalNombreSalariesFemmes + nombreSalariesFemmes,\n        totalNombreSalariesHommes:\n          totalNombreSalariesHommes + nombreSalariesHommes\n      };\n    },\n    {\n      totalNombreSalariesFemmes: 0, //TNBF\n      totalNombreSalariesHommes: 0 //TNBH\n    }\n  );\n\n  // TNB\n  const totalNombreSalaries =\n    totalNombreSalariesFemmes + totalNombreSalariesHommes;\n\n  // TEV\n  const totalEffectifsValides = groupEffectif.reduce(\n    (acc, { effectifsValides }) => acc + effectifsValides,\n    0\n  );\n\n  return {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  };\n};\n\n// IC\nexport const calculEffectifsIndicateurCalculable = (\n  totalNombreSalaries: number,\n  totalEffectifsValides: number\n): boolean =>\n  totalNombreSalaries > 0 &&\n  totalEffectifsValides >= totalNombreSalaries * tauxEffectifValide;\n","import {\n  AppState,\n  TranchesAges,\n  Groupe,\n  GroupTranchesAges\n} from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParTrancheAge,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\n/* INDICATEUR 1 CONST */\n\nconst seuilPertinence = 5 / 100;\n\nconst baremeEcartRemuneration = [\n  40,\n  39,\n  38,\n  37,\n  36,\n  35,\n  34,\n  33,\n  31,\n  29,\n  27,\n  25,\n  23,\n  21,\n  19,\n  17,\n  14,\n  11,\n  8,\n  5,\n  2,\n  0\n];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEffectifs,\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 1 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 3 && nombreSalariesHommes >= 3;\n\n// ERM\nexport const calculEcartRemunerationMoyenne = (\n  remunerationAnnuelleBrutFemmes: number,\n  remunerationAnnuelleBrutHommes: number\n): number | undefined =>\n  remunerationAnnuelleBrutFemmes > 0 && remunerationAnnuelleBrutHommes > 0\n    ? roundDecimal(\n        (remunerationAnnuelleBrutHommes - remunerationAnnuelleBrutFemmes) /\n          remunerationAnnuelleBrutHommes,\n        3\n      )\n    : undefined;\n\n// ESP\nexport const calculEcartApresApplicationSeuilPertinence = (\n  ecartRemunerationMoyenne: number | undefined\n): number | undefined =>\n  ecartRemunerationMoyenne !== undefined\n    ? roundDecimal(\n        Math.sign(ecartRemunerationMoyenne) *\n          Math.max(0, Math.abs(ecartRemunerationMoyenne) - seuilPertinence),\n        3\n      )\n    : undefined;\n\ninterface effectifEtEcartRemuGroup extends effectifGroup {\n  trancheAge: TranchesAges;\n  remunerationAnnuelleBrutFemmes: number;\n  remunerationAnnuelleBrutHommes: number;\n  ecartRemunerationMoyenne: number | undefined;\n  ecartApresApplicationSeuilPertinence: number | undefined;\n}\n\nexport const calculEffectifsEtEcartRemuParTrancheAge = (\n  state: Array<Groupe>\n): Array<effectifEtEcartRemuGroup> => {\n  const dataByRow = state.reduce(\n    (acc: Array<GroupTranchesAges>, group) => acc.concat(group.tranchesAges),\n    []\n  );\n\n  const computedDataByRow = dataByRow.map(\n    (groupTrancheAge: GroupTranchesAges) => {\n      const remunerationAnnuelleBrutFemmes =\n        groupTrancheAge.remunerationAnnuelleBrutFemmes || 0;\n      const remunerationAnnuelleBrutHommes =\n        groupTrancheAge.remunerationAnnuelleBrutHommes || 0;\n\n      const effectifs = rowEffectifsParTrancheAge(\n        groupTrancheAge,\n        calculValiditeGroupe\n      );\n\n      // ERM\n      const ecartRemunerationMoyenne = calculEcartRemunerationMoyenne(\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes\n      );\n      // ESP\n      const ecartApresApplicationSeuilPertinence = calculEcartApresApplicationSeuilPertinence(\n        ecartRemunerationMoyenne\n      );\n\n      return {\n        ...effectifs,\n        trancheAge: groupTrancheAge.trancheAge,\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes,\n        ecartRemunerationMoyenne,\n        ecartApresApplicationSeuilPertinence\n      };\n    }\n  );\n\n  return computedDataByRow;\n};\n\nexport const calculEcartsPonderesParTrancheAge = calculEcartsPonderesParGroupe(\n  ({ ecartApresApplicationSeuilPertinence }) =>\n    ecartApresApplicationSeuilPertinence\n);\n\n// IER\nexport const calculIndicateurEcartRemuneration = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\nexport const calculIndicateurSexeSousRepresente = (\n  indicateurEcartRemuneration: number | undefined\n): \"hommes\" | \"femmes\" | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? Math.sign(indicateurEcartRemuneration) < 0\n      ? \"femmes\"\n      : \"hommes\"\n    : undefined;\n\nexport const calculIndicateurEcartRemunerationAbsolute = (\n  indicateurEcartRemuneration: number | undefined\n): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? Math.abs(indicateurEcartRemuneration)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartRemuneration: number | undefined\n): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? baremeEcartRemuneration[\n        Math.min(\n          baremeEcartRemuneration.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartRemuneration))\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurUn(state: AppState) {\n  const effectifEtEcartRemuParTranche = calculEffectifsEtEcartRemuParTrancheAge(\n    state.data\n  );\n\n  const { totalNombreSalaries, totalEffectifsValides } = calculTotalEffectifs(\n    effectifEtEcartRemuParTranche\n  );\n\n  const ecartsPonderesByRow = calculEcartsPonderesParTrancheAge(\n    effectifEtEcartRemuParTranche,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IER\n  const indicateurEcartRemuneration = calculIndicateurEcartRemuneration(\n    effectifsIndicateurCalculable,\n    totalEcartPondere\n  );\n\n  const indicateurEcartRemunerationAbsolute = calculIndicateurEcartRemunerationAbsolute(\n    indicateurEcartRemuneration\n  );\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(\n    indicateurEcartRemuneration\n  );\n\n  // NOTE\n  const noteIndicateurUn = calculNote(indicateurEcartRemuneration);\n\n  return {\n    effectifEtEcartRemuParTranche,\n    effectifsIndicateurCalculable,\n    indicateurEcartRemuneration: indicateurEcartRemunerationAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurUn\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\n\ninterface Props {\n  childrenForm: ReactNode;\n  childrenResult: ReactNode;\n}\n\nfunction LayoutFormAndResult({ childrenForm, childrenResult }: Props) {\n  const width = useColumnsWidth(4);\n  return (\n    <div css={styles.body}>\n      <div css={css({ width })}>{childrenForm}</div>\n      <div css={styles.result}>{childrenResult}</div>\n    </div>\n  );\n}\n\nconst styles = {\n  body: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  result: css({\n    flex: 1,\n    marginLeft: globalStyles.grid.gutterWidth,\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default LayoutFormAndResult;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\ninterface Props {\n  title: string;\n  text?: string;\n}\n\nfunction InfoBloc({ title, text }: Props) {\n  return (\n    <div css={styles.bloc}>\n      <p css={styles.blocTitle}>{title}</p>\n      {text && <p css={styles.blocText}>{text}</p>}\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    padding: 16,\n    backgroundColor: \"#FFF\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  blocText: css({\n    marginTop: 4,\n    fontSize: 14,\n    lineHeight: \"17px\"\n  })\n};\n\nexport default InfoBloc;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n}\n\nfunction ActionBar({ children }: Props) {\n  return <div css={styles.actionBar}>{children}</div>;\n}\n\nconst styles = {\n  actionBar: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 46,\n    marginBottom: 36\n  })\n};\n\nexport default ActionBar;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport ButtonSubmit from \"../components/ButtonSubmit\";\n\ninterface Props {\n  submitFailed: boolean;\n  hasValidationErrors: boolean;\n  errorMessage: string;\n}\n\nfunction FormSubmit({\n  submitFailed,\n  hasValidationErrors,\n  errorMessage\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ButtonSubmit\n        label=\"valider\"\n        outline={hasValidationErrors}\n        error={submitFailed && hasValidationErrors}\n      />\n      {submitFailed && hasValidationErrors && (\n        <p css={styles.error}>{errorMessage}</p>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\"\n  }),\n  error: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  })\n};\n\nexport default FormSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  CategorieSocioPro,\n  TranchesAges,\n  Groupe,\n  GroupTranchesAges,\n  ActionIndicateurUnData,\n  FormState\n} from \"../globals.d\";\n\nimport { calculValiditeGroupe } from \"../utils/calculsEgaProIndicateurUn\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props {\n  data: Array<Groupe>;\n  readOnly: boolean;\n  updateIndicateurUn: (data: ActionIndicateurUnData) => void;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string =>\n  \"remunerationAnnuelleBrut\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction IndicateurUnForm({\n  data,\n  readOnly,\n  updateIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  const infoFields = data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes,\n          remunerationAnnuelleBrutFemmes,\n          remunerationAnnuelleBrutHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            calculable: calculValiditeGroupe(\n              nombreSalariesFemmes || 0,\n              nombreSalariesHommes || 0\n            ),\n            remunerationAnnuelleBrutFemmesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            remunerationAnnuelleBrutFemmesValue: parseStateValue(\n              remunerationAnnuelleBrutFemmes\n            ),\n            remunerationAnnuelleBrutHommesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            remunerationAnnuelleBrutHommesValue: parseStateValue(\n              remunerationAnnuelleBrutHommes\n            )\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          remunerationAnnuelleBrutFemmesName,\n          remunerationAnnuelleBrutFemmesValue,\n          remunerationAnnuelleBrutHommesName,\n          remunerationAnnuelleBrutHommesValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [remunerationAnnuelleBrutFemmesName]: remunerationAnnuelleBrutFemmesValue,\n          [remunerationAnnuelleBrutHommesName]: remunerationAnnuelleBrutHommesValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionIndicateurUnData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmesName,\n            remunerationAnnuelleBrutHommesName\n          }) => ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmes: parseFormValue(\n              formData[remunerationAnnuelleBrutFemmesName]\n            ),\n            remunerationAnnuelleBrutHommes: parseFormValue(\n              formData[remunerationAnnuelleBrutHommesName]\n            )\n          })\n        )\n      })\n    );\n    updateIndicateurUn(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurUn(\"Valid\");\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n        return (\n          <BlocForm\n            key={categorieSocioPro}\n            title={displayNameCategorieSocioPro(categorieSocioPro)}\n            label=\"rémunération moyenne\"\n          >\n            {tranchesAges.map(\n              ({\n                trancheAge,\n                calculable,\n                remunerationAnnuelleBrutFemmesName,\n                remunerationAnnuelleBrutHommesName\n              }) => {\n                return (\n                  <FieldInputsMenWomen\n                    key={trancheAge}\n                    form={form}\n                    name={displayNameTranchesAges(trancheAge)}\n                    readOnly={readOnly}\n                    calculable={calculable}\n                    calculableNumber={3}\n                    femmeFieldName={remunerationAnnuelleBrutFemmesName}\n                    hommeFieldName={remunerationAnnuelleBrutHommesName}\n                  />\n                );\n              }\n            )}\n          </BlocForm>\n        );\n      })}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurUnForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nexport interface Props {\n  firstLineLabel: string;\n  firstLineData: string;\n  firstLineInfo?: string;\n  secondLineLabel: string;\n  secondLineData: string;\n  secondLineInfo?: string;\n}\n\nfunction ResultBubble({\n  firstLineLabel,\n  firstLineData,\n  firstLineInfo,\n  secondLineLabel,\n  secondLineData,\n  secondLineInfo\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.bloc}>\n        <div css={styles.blocInfo}>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{firstLineLabel} </span>\n            <span css={styles.messageData}>{firstLineData}</span>\n          </p>\n          {firstLineInfo && <p css={styles.info}>{firstLineInfo}</p>}\n        </div>\n\n        <div css={styles.blocInfo}>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{secondLineLabel} </span>\n            <span css={styles.messageData}>{secondLineData}</span>\n          </p>\n          {secondLineInfo && <p css={styles.info}>{secondLineInfo}</p>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    width: \"100%\",\n    position: \"relative\",\n    height: 0,\n    paddingTop: \"100%\"\n  }),\n  bloc: css({\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n\n    padding: \"26% 8%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n\n    color: \"white\",\n    backgroundColor: globalStyles.colors.default,\n    borderRadius: \"100%\"\n  }),\n  blocInfo: css({\n    borderBottom: \"1px solid #FFFFFF\"\n  }),\n  message: css({\n    marginBottom: 2,\n    display: \"flex\",\n    alignItems: \"baseline\",\n\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  messageLabel: css({\n    marginRight: \"auto\"\n  }),\n  messageData: css({\n    fontWeight: \"bold\"\n  }),\n  info: css({\n    marginTop: 7,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"15px\"\n  })\n};\n\nexport default ResultBubble;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartRemuneration: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurUn: number | undefined;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nfunction IndicateurUnResult({\n  indicateurEcartRemuneration,\n  indicateurSexeSurRepresente,\n  noteIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (indicateurEcartRemuneration !== undefined\n            ? indicateurEcartRemuneration.toFixed(1)\n            : \"--\") + \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${indicateurSexeSurRepresente}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurUn(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurUnResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurUnData\n} from \"../globals.d\";\n\nimport calculIndicateurUn from \"../utils/calculsEgaProIndicateurUn\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport IndicateurUnForm from \"./IndicateurUnForm\";\nimport IndicateurUnResult from \"./IndicateurUnResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurUn({ state, dispatch }: Props) {\n  const updateIndicateurUn = useCallback(\n    (data: ActionIndicateurUnData) =>\n      dispatch({ type: \"updateIndicateurUn\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurUn = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurUn\", valid }),\n    [dispatch]\n  );\n\n  const {\n    effectifsIndicateurCalculable,\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente,\n    noteIndicateurUn\n  } = calculIndicateurUn(state);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurUn>\n        <div>\n          <InfoBloc title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\" />\n          <ActionBar>\n            <ButtonLink to=\"/effectifs\" label=\"renseigner les effectifs\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurUn>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurUn>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurUn>\n    );\n  }\n\n  return (\n    <PageIndicateurUn>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurUnForm\n            data={state.data}\n            readOnly={state.indicateurUn.formValidated === \"Valid\"}\n            updateIndicateurUn={updateIndicateurUn}\n            validateIndicateurUn={validateIndicateurUn}\n          />\n        }\n        childrenResult={\n          state.indicateurUn.formValidated === \"Valid\" && (\n            <IndicateurUnResult\n              indicateurEcartRemuneration={indicateurEcartRemuneration}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurUn={noteIndicateurUn}\n              validateIndicateurUn={validateIndicateurUn}\n            />\n          )\n        }\n      />\n    </PageIndicateurUn>\n  );\n}\n\nfunction PageIndicateurUn({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 1, écart de rémunération\"\n      tagline=\"Renseignez la rémunération (annuelle / mensuelle) moyenne des femmes et\n        des hommes par CSP et par tranche d’âge.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurUn;\n","import { AppState, CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\nconst baremEcartAugmentation = [20, 20, 20, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 2 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 10 && nombreSalariesHommes >= 10;\n\n// ETA\nexport const calculEcartTauxAugmentation = (\n  tauxAugmentationFemmes: number | undefined,\n  tauxAugmentationHommes: number | undefined\n): number | undefined =>\n  tauxAugmentationFemmes !== undefined &&\n  tauxAugmentationHommes !== undefined &&\n  tauxAugmentationFemmes >= 0 &&\n  tauxAugmentationHommes >= 0\n    ? roundDecimal(tauxAugmentationHommes - tauxAugmentationFemmes, 3)\n    : undefined;\n\nexport interface effectifEtEcartAugmentGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  ecartTauxAugmentation: number | undefined;\n}\n\nexport const calculEffectifsEtEcartAugmentParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartAugmentGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxAugmentation = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartAugmentGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxAugmentationFemmes,\n    sommeProduitTauxAugmentationHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      {\n        sommeProduitTauxAugmentationFemmes,\n        sommeProduitTauxAugmentationHommes\n      },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxAugmentationFemmes:\n          sommeProduitTauxAugmentationFemmes +\n          (tauxAugmentationFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxAugmentationHommes:\n          sommeProduitTauxAugmentationHommes +\n          (tauxAugmentationHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxAugmentationFemmes: 0,\n      sommeProduitTauxAugmentationHommes: 0\n    }\n  );\n\n  // TTAF\n  const totalTauxAugmentationFemmes =\n    sommeProduitTauxAugmentationFemmes / totalNombreSalariesFemmes;\n\n  // TTAH\n  const totalTauxAugmentationHommes =\n    sommeProduitTauxAugmentationHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxAugmentation }) => ecartTauxAugmentation\n);\n\n// IC\nexport const calculIndicateurCalculable = (\n  presenceAugmentation: boolean,\n  totalNombreSalaries: number,\n  totalEffectifsValides: number,\n  totalTauxAugmentationFemmes: number,\n  totalTauxAugmentationHommes: number\n): boolean =>\n  presenceAugmentation &&\n  calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  ) &&\n  (totalTauxAugmentationFemmes > 0 || totalTauxAugmentationHommes > 0);\n\n// IEA\nexport const calculIndicateurEcartAugmentation = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\nexport const calculIndicateurSexeSousRepresente = (\n  indicateurEcartAugmentation: number | undefined\n): \"hommes\" | \"femmes\" | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? Math.sign(indicateurEcartAugmentation) < 0\n      ? \"femmes\"\n      : \"hommes\"\n    : undefined;\n\nexport const calculIndicateurEcartAugmentationAbsolute = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? Math.abs(indicateurEcartAugmentation)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? baremEcartAugmentation[\n        Math.min(\n          baremEcartAugmentation.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartAugmentation))\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurDeux(state: AppState) {\n  const effectifEtEcartAugmentParGroupe = calculEffectifsEtEcartAugmentParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(effectifEtEcartAugmentParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartAugmentParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurDeux.presenceAugmentation,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  );\n\n  // IEA\n  const indicateurEcartAugmentation = calculIndicateurEcartAugmentation(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  const indicateurEcartAugmentationAbsolute = calculIndicateurEcartAugmentationAbsolute(\n    indicateurEcartAugmentation\n  );\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(\n    indicateurEcartAugmentation\n  );\n\n  // NOTE\n  const noteIndicateurDeux = calculNote(indicateurEcartAugmentation);\n\n  return {\n    effectifsIndicateurCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurCalculable,\n    indicateurEcartAugmentation: indicateurEcartAugmentationAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurDeux\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useField, FieldRenderProps } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nfunction RadioField({\n  field: { input },\n  label,\n  value,\n  disabled\n}: {\n  field: FieldRenderProps;\n  label: string;\n  value: string;\n  disabled: boolean;\n}) {\n  const checked = input.value === value;\n  return (\n    <label css={styles.label}>\n      <input\n        css={styles.radio}\n        {...input}\n        type=\"radio\"\n        value={value}\n        checked={checked}\n        disabled={disabled}\n      />\n      <div css={[styles.fakeRadio, checked && styles.fakeRadioChecked]} />\n      <span css={styles.labelText}>{label}</span>\n    </label>\n  );\n}\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  fieldName: string;\n  labelTrue: string;\n  labelFalse: string;\n}\n\nfunction RadiosBoolean({\n  form,\n  readOnly,\n  fieldName,\n  labelTrue,\n  labelFalse\n}: Props) {\n  const field = useField(fieldName, form);\n  return (\n    <div css={styles.container}>\n      <RadioField\n        field={field}\n        label={labelTrue}\n        value=\"true\"\n        disabled={readOnly}\n      />\n      <div\n        css={[\n          styles.radioFieldFalse,\n          readOnly && styles.radioFieldFalseDisabled\n        ]}\n      >\n        <RadioField\n          field={field}\n          label={labelFalse}\n          value=\"false\"\n          disabled={readOnly}\n        />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  label: css({\n    display: \"flex\",\n    fontSize: 14,\n    cursor: \"pointer\"\n  }),\n  labelText: css({\n    lineHeight: \"16px\"\n  }),\n  radio: css({\n    display: \"none\"\n  }),\n  fakeRadio: css({\n    width: 16,\n    height: 16,\n    flexShrink: 0,\n    marginRight: 6,\n    borderRadius: 8,\n    backgroundColor: \"white\",\n    border: `solid ${globalStyles.colors.default} 1px`\n  }),\n  fakeRadioChecked: css({\n    backgroundImage: `radial-gradient(${globalStyles.colors.default} 0%, ${\n      globalStyles.colors.default\n    } 3px, #FFF 3px)`\n  }),\n  radioFieldFalse: css({\n    marginTop: 9\n  }),\n  radioFieldFalseDisabled: css({\n    opacity: 0\n  })\n};\n\nexport default RadiosBoolean;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport {\n  calculTotalEffectifsEtTauxAugmentation,\n  calculEcartTauxAugmentation,\n  effectifEtEcartAugmentGroup\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro,\n  displayPercent\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartAugmentParCategorieSocioPro: Array<effectifEtEcartAugmentGroup>;\n  presenceAugmentation: boolean;\n  readOnly: boolean;\n  updateIndicateurDeux: (data: ActionIndicateurDeuxData) => void;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxAugmentation\" + categorieSocioPro + genre;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : percentageToFraction(parseFloat(value));\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value));\n\nfunction IndicateurDeuxForm({\n  ecartAugmentParCategorieSocioPro,\n  presenceAugmentation,\n  readOnly,\n  updateIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  const infoFields = ecartAugmentParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxAugmentationFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxAugmentationFemmesValue: parseStateValue(tauxAugmentationFemmes),\n        tauxAugmentationHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxAugmentationHommesValue: parseStateValue(tauxAugmentationHommes)\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxAugmentationFemmesName,\n        tauxAugmentationFemmesValue,\n        tauxAugmentationHommesName,\n        tauxAugmentationHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxAugmentationFemmesName]: tauxAugmentationFemmesValue,\n        [tauxAugmentationHommesName]: tauxAugmentationHommesValue\n      };\n    },\n    { presenceAugmentation: String(presenceAugmentation) }\n  );\n\n  const saveForm = (formData: any) => {\n    const { presenceAugmentation } = formData;\n    const tauxAugmentation = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxAugmentationFemmesName,\n        tauxAugmentationHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxAugmentationFemmes: parseFormValue(\n          formData[tauxAugmentationFemmesName]\n        ),\n        tauxAugmentationHommes: parseFormValue(\n          formData[tauxAugmentationHommesName]\n        )\n      })\n    );\n    updateIndicateurDeux({\n      tauxAugmentation,\n      presenceAugmentation: presenceAugmentation === \"true\"\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurDeux(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  // Only for Total with updated values\n  const ecartAugmentParCategorieSocioProPourTotal = ecartAugmentParCategorieSocioPro.map(\n    (groupAugment, index) => {\n      const infoField = infoFields[index];\n      const tauxAugmentationFemmes = parseFormValue(\n        values[infoField.tauxAugmentationFemmesName]\n      );\n      const tauxAugmentationHommes = parseFormValue(\n        values[infoField.tauxAugmentationHommesName]\n      );\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      );\n      return {\n        ...groupAugment,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n  const {\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(\n    ecartAugmentParCategorieSocioProPourTotal\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presenceAugmentation\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des augmentations durant la période de référence\"\n        labelFalse=\"il n’y a pas eu d’augmentation durant la période de référence\"\n      />\n\n      {values.presenceAugmentation === \"true\" && (\n        <BlocForm\n          label=\"% de salariés augmentés\"\n          footer={[\n            displayPercent(totalTauxAugmentationHommes),\n            displayPercent(totalTauxAugmentationFemmes)\n          ]}\n        >\n          {infoFields.map(\n            ({\n              categorieSocioPro,\n              validiteGroupe,\n              tauxAugmentationFemmesName,\n              tauxAugmentationHommesName\n            }) => {\n              return (\n                <FieldInputsMenWomen\n                  key={categorieSocioPro}\n                  form={form}\n                  name={displayNameCategorieSocioPro(categorieSocioPro)}\n                  readOnly={readOnly}\n                  calculable={validiteGroupe}\n                  calculableNumber={10}\n                  femmeFieldName={tauxAugmentationFemmesName}\n                  hommeFieldName={tauxAugmentationHommesName}\n                />\n              );\n            }\n          )}\n        </BlocForm>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurDeuxForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartAugmentation: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurDeux: number | undefined;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nfunction IndicateurDeuxResult({\n  indicateurEcartAugmentation,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (indicateurEcartAugmentation !== undefined\n            ? indicateurEcartAugmentation.toFixed(1)\n            : \"--\") + \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${indicateurSexeSurRepresente}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") + \"/20\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurDeuxResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport calculIndicateurDeux from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurDeuxForm from \"./IndicateurDeuxForm\";\nimport IndicateurDeuxResult from \"./IndicateurDeuxResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurDeux({ state, dispatch }: Props) {\n  const updateIndicateurDeux = useCallback(\n    (data: ActionIndicateurDeuxData) =>\n      dispatch({ type: \"updateIndicateurDeux\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurDeux = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurDeux\", valid }),\n    [dispatch]\n  );\n\n  const {\n    effectifsIndicateurCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurCalculable,\n    indicateurEcartAugmentation,\n    indicateurSexeSurRepresente,\n    noteIndicateurDeux\n  } = calculIndicateurDeux(state);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\" />\n          <ActionBar>\n            <ButtonLink to=\"/effectifs\" label=\"renseigner les effectifs\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (state.indicateurDeux.formValidated === \"Valid\" && !indicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu d’augmentation individuelle durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  return (\n    <PageIndicateurDeux>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurDeuxForm\n            ecartAugmentParCategorieSocioPro={effectifEtEcartAugmentParGroupe}\n            presenceAugmentation={state.indicateurDeux.presenceAugmentation}\n            readOnly={state.indicateurDeux.formValidated === \"Valid\"}\n            updateIndicateurDeux={updateIndicateurDeux}\n            validateIndicateurDeux={validateIndicateurDeux}\n          />\n        }\n        childrenResult={\n          state.indicateurDeux.formValidated === \"Valid\" && (\n            <IndicateurDeuxResult\n              indicateurEcartAugmentation={indicateurEcartAugmentation}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurDeux={noteIndicateurDeux}\n              validateIndicateurDeux={validateIndicateurDeux}\n            />\n          )\n        }\n      />\n    </PageIndicateurDeux>\n  );\n}\n\nfunction PageIndicateurDeux({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 2, écart de taux d’augmentation individuelle “hors promotion”\"\n      tagline=\"Renseignez le pourcentage d’hommes et des femmes ayant été augmentés durant la période de référence, par CSP.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurDeux;\n","import { AppState, CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  calculEffectifsIndicateurCalculable,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup\n} from \"./calculsEgaPro\";\n\nimport {\n  calculValiditeGroupe,\n  calculEcartTauxAugmentation,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation,\n  calculIndicateurSexeSousRepresente,\n  calculIndicateurEcartAugmentationAbsolute\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nconst baremEcartPromotion = [15, 15, 15, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculValiditeGroupe, // VG\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable, // IC\n  calculIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 3 //\n//////////////////\n\n// ETP\nexport const calculEcartTauxPromotion = calculEcartTauxAugmentation;\n\nexport interface effectifEtEcartPromoGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n  ecartTauxPromotion: number | undefined;\n}\n\nexport const calculEffectifsEtEcartPromoParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartPromoGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxPromotion = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartPromoGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxPromotionFemmes,\n    sommeProduitTauxPromotionHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      { sommeProduitTauxPromotionFemmes, sommeProduitTauxPromotionHommes },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxPromotionFemmes:\n          sommeProduitTauxPromotionFemmes +\n          (tauxPromotionFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxPromotionHommes:\n          sommeProduitTauxPromotionHommes +\n          (tauxPromotionHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxPromotionFemmes: 0,\n      sommeProduitTauxPromotionHommes: 0\n    }\n  );\n\n  // TTPF\n  const totalTauxPromotionFemmes =\n    sommeProduitTauxPromotionFemmes / totalNombreSalariesFemmes;\n\n  // TTPH\n  const totalTauxPromotionHommes =\n    sommeProduitTauxPromotionHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxPromotion }) => ecartTauxPromotion\n);\n\n// IEP\nexport const calculIndicateurEcartPromotion = calculIndicateurEcartAugmentation;\n\nexport const calculIndicateurEcartPromotionAbsolute = calculIndicateurEcartAugmentationAbsolute;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartPromotion: number | undefined\n): number | undefined =>\n  indicateurEcartPromotion !== undefined\n    ? baremEcartPromotion[\n        Math.min(\n          baremEcartPromotion.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartPromotion))\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurTrois(state: AppState) {\n  const effectifEtEcartPromoParGroupe = calculEffectifsEtEcartPromoParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(effectifEtEcartPromoParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartPromoParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurTrois.presencePromotion,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  );\n\n  // IEA\n  const indicateurEcartPromotion = calculIndicateurEcartPromotion(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  const indicateurEcartPromotionAbsolute = calculIndicateurEcartPromotionAbsolute(\n    indicateurEcartPromotion\n  );\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(\n    indicateurEcartPromotion\n  );\n\n  // NOTE\n  const noteIndicateurTrois = calculNote(indicateurEcartPromotion);\n\n  return {\n    effectifsIndicateurCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurCalculable,\n    indicateurEcartPromotion: indicateurEcartPromotionAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurTrois\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport {\n  calculTotalEffectifsEtTauxPromotion,\n  calculEcartTauxPromotion,\n  effectifEtEcartPromoGroup\n} from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro,\n  displayPercent\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartPromoParCategorieSocioPro: Array<effectifEtEcartPromoGroup>;\n  presencePromotion: boolean;\n  readOnly: boolean;\n  updateIndicateurTrois: (data: ActionIndicateurTroisData) => void;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxPromotion\" + categorieSocioPro + genre;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : percentageToFraction(parseFloat(value));\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value));\n\nfunction IndicateurTroisForm({\n  ecartPromoParCategorieSocioPro,\n  presencePromotion,\n  readOnly,\n  updateIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  const infoFields = ecartPromoParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxPromotionFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxPromotionFemmesValue: parseStateValue(tauxPromotionFemmes),\n        tauxPromotionHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxPromotionHommesValue: parseStateValue(tauxPromotionHommes)\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxPromotionFemmesName,\n        tauxPromotionFemmesValue,\n        tauxPromotionHommesName,\n        tauxPromotionHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxPromotionFemmesName]: tauxPromotionFemmesValue,\n        [tauxPromotionHommesName]: tauxPromotionHommesValue\n      };\n    },\n    { presencePromotion: String(presencePromotion) }\n  );\n\n  const saveForm = (formData: any) => {\n    const { presencePromotion } = formData;\n    const tauxPromotion = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxPromotionFemmesName,\n        tauxPromotionHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxPromotionFemmes: parseFormValue(formData[tauxPromotionFemmesName]),\n        tauxPromotionHommes: parseFormValue(formData[tauxPromotionHommesName])\n      })\n    );\n    updateIndicateurTrois({\n      tauxPromotion,\n      presencePromotion: presencePromotion === \"true\"\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurTrois(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  // Only for Total with updated values\n  const ecartPromoParCategorieSocioProPourTotal = ecartPromoParCategorieSocioPro.map(\n    (groupAugment, index) => {\n      const infoField = infoFields[index];\n      const tauxPromotionFemmes = parseFormValue(\n        values[infoField.tauxPromotionFemmesName]\n      );\n      const tauxPromotionHommes = parseFormValue(\n        values[infoField.tauxPromotionHommesName]\n      );\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      );\n      return {\n        ...groupAugment,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n  const {\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(\n    ecartPromoParCategorieSocioProPourTotal\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presencePromotion\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des promotions durant la période de référence\"\n        labelFalse=\"il n’y a pas eu de promotions durant la période de référence\"\n      />\n\n      {values.presencePromotion === \"true\" && (\n        <BlocForm\n          label=\"% de salariés promus\"\n          footer={[\n            displayPercent(totalTauxPromotionHommes),\n            displayPercent(totalTauxPromotionFemmes)\n          ]}\n        >\n          {infoFields.map(\n            ({\n              categorieSocioPro,\n              validiteGroupe,\n              tauxPromotionFemmesName,\n              tauxPromotionHommesName\n            }) => {\n              return (\n                <FieldInputsMenWomen\n                  key={categorieSocioPro}\n                  form={form}\n                  name={displayNameCategorieSocioPro(categorieSocioPro)}\n                  readOnly={readOnly}\n                  calculable={validiteGroupe}\n                  calculableNumber={10}\n                  femmeFieldName={tauxPromotionFemmesName}\n                  hommeFieldName={tauxPromotionHommesName}\n                />\n              );\n            }\n          )}\n        </BlocForm>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurTroisForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartPromotion: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurTrois: number | undefined;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nfunction IndicateurTroisResult({\n  indicateurEcartPromotion,\n  indicateurSexeSurRepresente,\n  noteIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (indicateurEcartPromotion !== undefined\n            ? indicateurEcartPromotion.toFixed(1)\n            : \"--\") + \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${indicateurSexeSurRepresente}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") +\n          \"/15\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurTroisResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport calculIndicateurTrois from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurTroisForm from \"./IndicateurTroisForm\";\nimport IndicateurTroisResult from \"./IndicateurTroisResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurTrois({ state, dispatch }: Props) {\n  const updateIndicateurTrois = useCallback(\n    (data: ActionIndicateurTroisData) =>\n      dispatch({ type: \"updateIndicateurTrois\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurTrois = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurTrois\", valid }),\n    [dispatch]\n  );\n\n  const {\n    effectifsIndicateurCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurCalculable,\n    indicateurEcartPromotion,\n    indicateurSexeSurRepresente,\n    noteIndicateurTrois\n  } = calculIndicateurTrois(state);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\" />\n          <ActionBar>\n            <ButtonLink to=\"/effectifs\" label=\"renseigner les effectifs\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n                moins 10 femmes et 10 hommes), représentent moins de 40% des\n                effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (\n    state.indicateurTrois.formValidated === \"Valid\" &&\n    !indicateurCalculable\n  ) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  return (\n    <PageIndicateurTrois>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurTroisForm\n            ecartPromoParCategorieSocioPro={effectifEtEcartPromoParGroupe}\n            presencePromotion={state.indicateurTrois.presencePromotion}\n            readOnly={state.indicateurTrois.formValidated === \"Valid\"}\n            updateIndicateurTrois={updateIndicateurTrois}\n            validateIndicateurTrois={validateIndicateurTrois}\n          />\n        }\n        childrenResult={\n          state.indicateurTrois.formValidated === \"Valid\" && (\n            <IndicateurTroisResult\n              indicateurEcartPromotion={indicateurEcartPromotion}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurTrois={noteIndicateurTrois}\n              validateIndicateurTrois={validateIndicateurTrois}\n            />\n          )\n        }\n      />\n    </PageIndicateurTrois>\n  );\n}\n\nfunction PageIndicateurTrois({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 3, écart de taux de promotions\"\n      tagline=\"Renseignez le pourcentage de femmes et d’hommes ayant été promus durant la période de référence par CSP.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurTrois;\n","import { AppState } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\n//////////////////\n// INDICATEUR 4 //\n//////////////////\n\nexport const calculIndicateurCalculable = (\n  presenceAugmentation: boolean,\n  nombreSalariees: number | undefined,\n  nombreSalarieesPeriodeAugmentation: number | undefined\n) => {\n  return (\n    presenceAugmentation &&\n    nombreSalariees !== undefined &&\n    nombreSalariees > 0 &&\n    nombreSalarieesPeriodeAugmentation !== undefined &&\n    nombreSalarieesPeriodeAugmentation > 0\n  );\n};\n\nexport const calculIndicateurEcartNombreSalarieesAugmentees = (\n  indicateurCalculable: boolean,\n  nombreSalarieesPeriodeAugmentation: number | undefined,\n  nombreSalarieesAugmentees: number | undefined\n): number | undefined =>\n  indicateurCalculable &&\n  nombreSalarieesPeriodeAugmentation !== undefined &&\n  nombreSalarieesAugmentees !== undefined &&\n  nombreSalarieesPeriodeAugmentation >= nombreSalarieesAugmentees\n    ? Math.abs(\n        roundDecimal(\n          100 *\n            (nombreSalarieesAugmentees / nombreSalarieesPeriodeAugmentation),\n          3\n        )\n      )\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartNombreSalarieesAugmentees: number | undefined\n): number | undefined =>\n  indicateurEcartNombreSalarieesAugmentees !== undefined\n    ? indicateurEcartNombreSalarieesAugmentees < 100\n      ? 0\n      : 15\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurQuatre(state: AppState) {\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurQuatre.presenceAugmentation,\n    state.indicateurQuatre.nombreSalariees,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation\n  );\n\n  const indicateurEcartNombreSalarieesAugmentees = calculIndicateurEcartNombreSalarieesAugmentees(\n    indicateurCalculable,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation,\n    state.indicateurQuatre.nombreSalarieesAugmentees\n  );\n\n  const noteIndicateurQuatre = calculNote(\n    indicateurEcartNombreSalarieesAugmentees\n  );\n\n  return {\n    indicateurCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useField } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\n\nconst required = (value: string): boolean => (value ? false : true);\n\nconst mustBeNumber = (value: string): boolean =>\n  Number.isNaN(Number(value)) ? true : false;\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\ninterface Props {\n  form: FormApi;\n  fieldName: string;\n  label: string;\n  readOnly: boolean;\n}\n\nfunction FieldInput({ form, fieldName, label, readOnly }: Props) {\n  const field = useField(fieldName, form, validate);\n  const error = hasFieldError(field.meta);\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={[styles.cellHead, error && styles.cellHeadError]}>\n          {field.meta.valid ? \"✓ \" : error ? \"✕ \" : null}\n          {label}\n        </CellHead>\n\n        {readOnly ? (\n          <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n            {field.input.value}\n          </Cell>\n        ) : (\n          <CellInput field={field} style={styles.cellWomen} />\n        )}\n      </div>\n      {error && (\n        <div css={styles.error}>\n          ce champs n’est pas valide, renseignez une valeur numérique\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 58,\n    marginTop: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  }),\n  cellHead: css({\n    height: 29,\n    paddingBottom: 2,\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default FieldInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport { AppState, FormState, ActionIndicateurQuatreData } from \"../globals.d\";\n\nimport { BlocFormLight } from \"../components/BlocForm\";\nimport FieldInput from \"../components/FieldInput\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\ninterface Props {\n  indicateurQuatre: AppState[\"indicateurQuatre\"];\n  readOnly: boolean;\n  updateIndicateurQuatre: (data: ActionIndicateurQuatreData) => void;\n  validateIndicateurQuatre: (valid: FormState) => void;\n}\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction IndicateurQuatreForm({\n  indicateurQuatre,\n  readOnly,\n  updateIndicateurQuatre,\n  validateIndicateurQuatre\n}: Props) {\n  const initialValues = {\n    presenceAugmentation: String(indicateurQuatre.presenceAugmentation),\n    nombreSalariees: parseStateValue(indicateurQuatre.nombreSalariees),\n    nombreSalarieesPeriodeAugmentation: parseStateValue(\n      indicateurQuatre.nombreSalarieesPeriodeAugmentation\n    ),\n    nombreSalarieesAugmentees: parseStateValue(\n      indicateurQuatre.nombreSalarieesAugmentees\n    )\n  };\n\n  const saveForm = (formData: any) => {\n    const {\n      presenceAugmentation,\n      nombreSalariees,\n      nombreSalarieesPeriodeAugmentation,\n      nombreSalarieesAugmentees\n    } = formData;\n\n    updateIndicateurQuatre({\n      presenceAugmentation: presenceAugmentation === \"true\",\n      nombreSalariees: parseFormValue(nombreSalariees),\n      nombreSalarieesPeriodeAugmentation: parseFormValue(\n        nombreSalarieesPeriodeAugmentation\n      ),\n      nombreSalarieesAugmentees: parseFormValue(nombreSalarieesAugmentees)\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurQuatre(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presenceAugmentation\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des augmentations collective ou individuelle durant la période de référence\"\n        labelFalse=\"il n’y a pas eu d’augmentation collective ou individuelle durant la période de référence\"\n      />\n\n      {values.presenceAugmentation === \"true\" && (\n        <BlocFormLight>\n          <FieldInput\n            form={form}\n            fieldName=\"nombreSalariees\"\n            label=\"nombre de salariées de retour de congé maternité\"\n            readOnly={readOnly}\n          />\n          <FieldInput\n            form={form}\n            fieldName=\"nombreSalarieesPeriodeAugmentation\"\n            label=\"parmis ces congès maternité, combien ont chevauchée une periode d’augmentation\"\n            readOnly={readOnly}\n          />\n          <FieldInput\n            form={form}\n            fieldName=\"nombreSalarieesAugmentees\"\n            label=\"parmis ces congès maternité ayant chevauchée une periode d’augmentation, combien ont été augmentées ?\"\n            readOnly={readOnly}\n          />\n        </BlocFormLight>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur5\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurQuatreForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartNombreSalarieesAugmentees: number | undefined;\n  noteIndicateurQuatre: number | undefined;\n  validateIndicateurQuatre: (valid: FormState) => void;\n}\n\nfunction IndicateurQuatreResult({\n  indicateurEcartNombreSalarieesAugmentees,\n  noteIndicateurQuatre,\n  validateIndicateurQuatre\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (indicateurEcartNombreSalarieesAugmentees !== undefined\n            ? indicateurEcartNombreSalarieesAugmentees.toFixed(1)\n            : \"--\") + \" %\"\n        }\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurQuatre !== undefined ? noteIndicateurQuatre : \"--\") +\n          \"/15\"\n        }\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurQuatreResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurQuatreData\n} from \"../globals.d\";\n\nimport calculIndicateurQuatre from \"../utils/calculsEgaProIndicateurQuatre\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurQuatreForm from \"./IndicateurQuatreForm\";\nimport IndicateurQuatreResult from \"./IndicateurQuatreResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurQuatre({ state, dispatch }: Props) {\n  const updateIndicateurQuatre = useCallback(\n    (data: ActionIndicateurQuatreData) =>\n      dispatch({ type: \"updateIndicateurQuatre\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurQuatre = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurQuatre\", valid }),\n    [dispatch]\n  );\n\n  const {\n    indicateurCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre\n  } = calculIndicateurQuatre(state);\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (\n    state.indicateurQuatre.formValidated === \"Valid\" &&\n    !indicateurCalculable\n  ) {\n    return (\n      <PageIndicateurQuatre>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur5\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurQuatre>\n    );\n  }\n\n  return (\n    <PageIndicateurQuatre>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurQuatreForm\n            indicateurQuatre={state.indicateurQuatre}\n            readOnly={state.indicateurQuatre.formValidated === \"Valid\"}\n            updateIndicateurQuatre={updateIndicateurQuatre}\n            validateIndicateurQuatre={validateIndicateurQuatre}\n          />\n        }\n        childrenResult={\n          state.indicateurQuatre.formValidated === \"Valid\" && (\n            <IndicateurQuatreResult\n              indicateurEcartNombreSalarieesAugmentees={\n                indicateurEcartNombreSalarieesAugmentees\n              }\n              noteIndicateurQuatre={noteIndicateurQuatre}\n              validateIndicateurQuatre={validateIndicateurQuatre}\n            />\n          )\n        }\n      />\n    </PageIndicateurQuatre>\n  );\n}\n\nfunction PageIndicateurQuatre({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n      tagline=\"Renseignez le taux de salariées en congès maternité durant la période de référence ayant reçu une augmentation à leur retour.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurQuatre;\n","import { AppState } from \"../globals.d\";\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num));\n}\n\n//////////////////\n// INDICATEUR 5 //\n//////////////////\n\nconst baremeEcartRemuneration = [0, 0, 5, 5, 10, 10];\n\nexport const calculIndicateurSexeSousRepresente = (\n  nombreSalariesHommes: number | undefined,\n  nombreSalariesFemmes: number | undefined\n): \"hommes\" | \"femmes\" | \"egalite\" | undefined =>\n  nombreSalariesHommes !== undefined && nombreSalariesFemmes !== undefined\n    ? nombreSalariesHommes > nombreSalariesFemmes\n      ? \"femmes\"\n      : nombreSalariesHommes < nombreSalariesFemmes\n      ? \"hommes\"\n      : \"egalite\"\n    : undefined;\n\nexport const calculIndicateurNombreSalariesSexeSousRepresente = (\n  nombreSalariesHommes: number | undefined,\n  nombreSalariesFemmes: number | undefined\n): number | undefined =>\n  nombreSalariesHommes !== undefined && nombreSalariesFemmes !== undefined\n    ? Math.min(nombreSalariesHommes, nombreSalariesFemmes)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurNombreSalariesSexeSousRepresente: number | undefined\n): number | undefined =>\n  indicateurNombreSalariesSexeSousRepresente !== undefined\n    ? baremeEcartRemuneration[\n        clamp(\n          indicateurNombreSalariesSexeSousRepresente,\n          0,\n          baremeEcartRemuneration.length - 1\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurCinq(state: AppState) {\n  const indicateurSexeSousRepresente = calculIndicateurSexeSousRepresente(\n    state.indicateurCinq.nombreSalariesHommes,\n    state.indicateurCinq.nombreSalariesFemmes\n  );\n\n  const indicateurNombreSalariesSexeSousRepresente = calculIndicateurNombreSalariesSexeSousRepresente(\n    state.indicateurCinq.nombreSalariesHommes,\n    state.indicateurCinq.nombreSalariesFemmes\n  );\n\n  const noteIndicateurCinq = calculNote(\n    indicateurNombreSalariesSexeSousRepresente\n  );\n\n  return {\n    indicateurSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo, useEffect } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport createDecorator from \"final-form-calculate\";\n\nimport { AppState, FormState, ActionIndicateurCinqData } from \"../globals.d\";\n\nimport { BlocFormLight } from \"../components/BlocForm\";\nimport FieldInput from \"../components/FieldInput\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\ninterface Props {\n  indicateurCinq: AppState[\"indicateurCinq\"];\n  readOnly: boolean;\n  updateIndicateurCinq: (data: ActionIndicateurCinqData) => void;\n  validateIndicateurCinq: (valid: FormState) => void;\n}\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nconst calculator = createDecorator(\n  {\n    field: \"nombreSalariesFemmes\",\n    updates: {\n      nombreSalariesHommes: (femmesValue, { nombreSalariesHommes }: any) =>\n        femmesValue !== \"\"\n          ? parseStateValue(10 - parseFormValue(femmesValue))\n          : nombreSalariesHommes\n    }\n  },\n  {\n    field: \"nombreSalariesHommes\",\n    updates: {\n      nombreSalariesFemmes: (hommesValue, { nombreSalariesFemmes }: any) =>\n        hommesValue !== \"\"\n          ? parseStateValue(10 - parseFormValue(hommesValue))\n          : nombreSalariesFemmes\n    }\n  }\n);\n\nfunction IndicateurCinqForm({\n  indicateurCinq,\n  readOnly,\n  updateIndicateurCinq,\n  validateIndicateurCinq\n}: Props) {\n  const initialValues = {\n    nombreSalariesHommes: parseStateValue(indicateurCinq.nombreSalariesHommes),\n    nombreSalariesFemmes: parseStateValue(indicateurCinq.nombreSalariesFemmes)\n  };\n\n  const saveForm = (formData: any) => {\n    const { nombreSalariesHommes, nombreSalariesFemmes } = formData;\n\n    updateIndicateurCinq({\n      nombreSalariesHommes: parseFormValue(nombreSalariesHommes),\n      nombreSalariesFemmes: parseFormValue(nombreSalariesFemmes)\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurCinq(\"Valid\");\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  useEffect(() => {\n    const unsubscribe = calculator(form);\n    return () => unsubscribe();\n  }, [form]);\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <BlocFormLight>\n        <FieldInput\n          form={form}\n          fieldName=\"nombreSalariesFemmes\"\n          label=\"nombre de femmes parmis les 10 plus hauts salaires\"\n          readOnly={readOnly}\n        />\n        <FieldInput\n          form={form}\n          fieldName=\"nombreSalariesHommes\"\n          label=\"nombre d’hommes parmis les 10 plus hauts salaires\"\n          readOnly={readOnly}\n        />\n      </BlocFormLight>\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/recapitulatif\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurCinqForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurSexeSousRepresente: \"hommes\" | \"femmes\" | \"egalite\" | undefined;\n  indicateurNombreSalariesSexeSousRepresente: number | undefined;\n  noteIndicateurCinq: number | undefined;\n  validateIndicateurCinq: (valid: FormState) => void;\n}\n\nfunction IndicateurCinqResult({\n  indicateurSexeSousRepresente,\n  indicateurNombreSalariesSexeSousRepresente,\n  noteIndicateurCinq,\n  validateIndicateurCinq\n}: Props) {\n  const firstLineInfo =\n    indicateurSexeSousRepresente === undefined\n      ? undefined\n      : indicateurSexeSousRepresente === \"egalite\"\n      ? \"les hommes et les femmes sont à parité\"\n      : indicateurSexeSousRepresente === \"hommes\"\n      ? \"les femmes sont sur-représentées\"\n      : \"les hommes sont sur-représentés\";\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          indicateurNombreSalariesSexeSousRepresente !== undefined\n            ? String(indicateurNombreSalariesSexeSousRepresente)\n            : \"--\"\n        }\n        firstLineInfo={firstLineInfo}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurCinq !== undefined ? noteIndicateurCinq : \"--\") + \"/10\"\n        }\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurCinq(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurCinqResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurCinqData\n} from \"../globals.d\";\n\nimport calculIndicateurCinq from \"../utils/calculsEgaProIndicateurCinq\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\n\nimport IndicateurCinqForm from \"./IndicateurCinqForm\";\nimport IndicateurCinqResult from \"./IndicateurCinqResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurCinq({ state, dispatch }: Props) {\n  const updateIndicateurCinq = useCallback(\n    (data: ActionIndicateurCinqData) =>\n      dispatch({ type: \"updateIndicateurCinq\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurCinq = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurCinq\", valid }),\n    [dispatch]\n  );\n\n  const {\n    indicateurSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq\n  } = calculIndicateurCinq(state);\n\n  return (\n    <PageIndicateurCinq>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurCinqForm\n            indicateurCinq={state.indicateurCinq}\n            readOnly={state.indicateurCinq.formValidated === \"Valid\"}\n            updateIndicateurCinq={updateIndicateurCinq}\n            validateIndicateurCinq={validateIndicateurCinq}\n          />\n        }\n        childrenResult={\n          state.indicateurCinq.formValidated === \"Valid\" && (\n            <IndicateurCinqResult\n              indicateurSexeSousRepresente={indicateurSexeSousRepresente}\n              indicateurNombreSalariesSexeSousRepresente={\n                indicateurNombreSalariesSexeSousRepresente\n              }\n              noteIndicateurCinq={noteIndicateurCinq}\n              validateIndicateurCinq={validateIndicateurCinq}\n            />\n          )\n        }\n      />\n    </PageIndicateurCinq>\n  );\n}\n\nfunction PageIndicateurCinq({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 5, nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n      tagline=\"Renseignez le nombre d’hommes et de femmes parmi les 10 plus hautes rémunérations durant la période de référence.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurCinq;\n","import { roundDecimal } from \"./helpers\";\n\n///////////\n// Index //\n///////////\n\nexport const calculNoteIndex = (\n  noteIndicateurUn: number | undefined,\n  noteIndicateurDeux: number | undefined,\n  noteIndicateurTrois: number | undefined,\n  noteIndicateurQuatre: number | undefined,\n  noteIndicateurCinq: number | undefined\n): number | undefined => {\n  const noteIndicateurUnPointCalculable =\n    noteIndicateurUn !== undefined ? 40 : 0;\n  const noteIndicateurDeuxPointCalculable =\n    noteIndicateurDeux !== undefined ? 20 : 0;\n  const noteIndicateurTroisPointCalculable =\n    noteIndicateurTrois !== undefined ? 15 : 0;\n  const noteIndicateurQuatrePointCalculable =\n    noteIndicateurQuatre !== undefined ? 15 : 0;\n  const noteIndicateurCinqPointCalculable =\n    noteIndicateurCinq !== undefined ? 10 : 0;\n\n  const totalPointCalculable =\n    noteIndicateurUnPointCalculable +\n    noteIndicateurDeuxPointCalculable +\n    noteIndicateurTroisPointCalculable +\n    noteIndicateurQuatrePointCalculable +\n    noteIndicateurCinqPointCalculable;\n\n  if (totalPointCalculable < 75) {\n    return undefined;\n  }\n\n  const totalPoint =\n    (noteIndicateurUn || 0) +\n    (noteIndicateurDeux || 0) +\n    (noteIndicateurTrois || 0) +\n    (noteIndicateurQuatre || 0) +\n    (noteIndicateurCinq || 0);\n\n  return roundDecimal((totalPoint * 100) / totalPointCalculable, 3);\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../../../utils/globalStyles\";\n\nimport ResultBubble, {\n  Props as ResultBubbleProps\n} from \"../../../components/ResultBubble\";\n\nimport { useColumnsWidth } from \"../../../components/GridContext\";\n\ninterface Props {\n  title: string;\n  children: ReactNode;\n  resultBubble: ResultBubbleProps;\n}\n\nexport function RecapBloc({ title, children, resultBubble }: Props) {\n  const width = useColumnsWidth(4);\n\n  return (\n    <div css={styles.container}>\n      <div css={[styles.blocInfo, css({ width })]}>\n        <div css={styles.title}>{title}</div>\n\n        {children && (\n          <div css={styles.bloc}>\n            <div css={styles.background} />\n\n            <div css={styles.bloc}>{children}</div>\n          </div>\n        )}\n\n        <div\n          css={[styles.borderBottomBloc, !children && styles.borderNoChildren]}\n        />\n        <div\n          css={[styles.borderLeftBloc, !children && styles.borderNoChildren]}\n        />\n      </div>\n\n      <div css={styles.blocResult}>\n        <div\n          css={[\n            styles.borderBottomResult,\n            !children && styles.borderNoChildren\n          ]}\n        />\n        <div\n          css={[styles.borderRightResult, !children && styles.borderNoChildren]}\n        />\n        <ResultBubble {...resultBubble} />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"row\"\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -20,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #EFECEF\"\n  }),\n\n  blocInfo: css({\n    position: \"relative\",\n    flexShrink: 0,\n    paddingLeft: globalStyles.grid.gutterWidth\n  }),\n  title: css({\n    marginBottom: 20,\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n\n  bloc: css({\n    position: \"relative\"\n  }),\n  borderBottomBloc: css({\n    position: \"absolute\",\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    left: 0,\n    right: 0\n  }),\n  borderLeftBloc: css({\n    position: \"absolute\",\n    width: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    top: 0,\n    left: 0\n  }),\n\n  borderBottomResult: css({\n    position: \"absolute\",\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    left: -globalStyles.grid.gutterWidth,\n    right: \"50%\"\n  }),\n  borderRightResult: css({\n    position: \"absolute\",\n    width: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    top: 0,\n    right: \"50%\"\n  }),\n  blocResult: css({\n    position: \"relative\",\n    maxWidth: 250,\n    flex: 1,\n    marginLeft: globalStyles.grid.gutterWidth,\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n\n  borderNoChildren: css({\n    bottom: \"50%\"\n  })\n};\n\nexport default RecapBloc;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../../../utils/globalStyles\";\n\nimport { displayPercent } from \"../../../utils/helpers\";\n\nimport { CellHead, Cell } from \"../../../components/Cell\";\n\nfunction RowData({\n  name,\n  data\n}: {\n  name: string;\n  data: Array<number | undefined>;\n}) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={styles.cellHead}>{name}</CellHead>\n\n        {data.map((datum, index) => (\n          <Cell\n            key={index}\n            style={[\n              styles.cell,\n              datum !== undefined && Math.sign(datum) > 0\n                ? styles.cellMen\n                : styles.cellWomen,\n              datum === undefined && styles.cellEmpty\n            ]}\n          >\n            {datum !== undefined ? displayPercent(datum, 1) : \"nc\"}\n          </Cell>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport function RowDataFull({\n  name,\n  data\n}: {\n  name: string;\n  data: number | undefined;\n}) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={styles.cellHead}>{name}</CellHead>\n\n        <Cell\n          style={[\n            styles.cell,\n            styles.cellFull,\n            data !== undefined && Math.sign(data) > 0\n              ? styles.cellMen\n              : styles.cellWomen,\n            data === undefined && styles.cellEmpty\n          ]}\n        >\n          {data !== undefined ? displayPercent(data, 1) : \"nc\"}\n        </Cell>\n      </div>\n    </div>\n  );\n}\n\nexport function RowLabels({ labels }: { labels: Array<string> }) {\n  return (\n    <div css={[styles.row, styles.rowLabel]}>\n      <CellHead />\n\n      {labels.map((label, index) => (\n        <Cell key={index} style={[styles.cell, styles.cellLabel]}>\n          {label}\n        </Cell>\n      ))}\n    </div>\n  );\n}\n\nexport function RowLabelFull({ label }: { label: string }) {\n  return (\n    <div css={[styles.row, styles.rowLabel]}>\n      <CellHead />\n\n      <Cell style={[styles.cell, styles.cellLabel, styles.cellFull]}>\n        {label}\n      </Cell>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  rowLabel: css({\n    marginBottom: 10\n  }),\n  cellHead: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\"\n  }),\n\n  cell: css({\n    marginLeft: 4,\n    width: 48,\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 14\n  }),\n  cellMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    color: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    color: globalStyles.colors.invalid\n  }),\n  cellLabel: css({\n    fontSize: 11,\n    fontStyle: \"italic\",\n    textAlign: \"center\"\n  }),\n  cellFull: css({\n    width: 48 * 4 + 3 * 4\n  })\n};\n\nexport default RowData;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState, TranchesAges, CategorieSocioPro } from \"../../globals.d\";\n\nimport {\n  displayNameTranchesAges,\n  displayNameCategorieSocioPro\n} from \"../../utils/helpers\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\nimport RowData, { RowLabels, RowLabelFull } from \"./components/RowData\";\n\ninterface Props {\n  indicateurUnFormValidated: FormState;\n  effectifEtEcartRemuParTranche: Array<{\n    ecartRemunerationMoyenne: number | undefined;\n  }>;\n  indicateurEcartRemuneration: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurUn: number | undefined;\n}\n\nfunction RecapitulatifIndicateurUn({\n  indicateurUnFormValidated,\n  effectifEtEcartRemuParTranche,\n  indicateurEcartRemuneration,\n  indicateurSexeSurRepresente,\n  noteIndicateurUn\n}: Props) {\n  if (indicateurUnFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 1, écart de rémunération entre les hommes et les femmes\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 1, écart de rémunération entre les hommes et les femmes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartRemuneration !== undefined\n              ? indicateurEcartRemuneration.toFixed(1)\n              : \"--\") + \" %\",\n          firstLineInfo: `écart favorable aux ${indicateurSexeSurRepresente}`,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\",\n          secondLineInfo: \"mesures de correction prises en compte\"\n        }}\n      >\n        <RowLabelFull label=\"écart de rémunération par csp\" />\n        <RowLabels\n          labels={[\n            displayNameTranchesAges(TranchesAges.MoinsDe30ans),\n            displayNameTranchesAges(TranchesAges.De30a39ans),\n            displayNameTranchesAges(TranchesAges.De40a49ans),\n            displayNameTranchesAges(TranchesAges.PlusDe50ans)\n          ]}\n        />\n\n        <RowData\n          name={displayNameCategorieSocioPro(CategorieSocioPro.Ouvriers)}\n          data={[\n            effectifEtEcartRemuParTranche[0].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[1].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[2].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[3].ecartRemunerationMoyenne\n          ]}\n        />\n        <RowData\n          name={displayNameCategorieSocioPro(CategorieSocioPro.Employes)}\n          data={[\n            effectifEtEcartRemuParTranche[4].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[5].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[6].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[7].ecartRemunerationMoyenne\n          ]}\n        />\n        <RowData\n          name={displayNameCategorieSocioPro(CategorieSocioPro.Techniciens)}\n          data={[\n            effectifEtEcartRemuParTranche[8].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[9].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[10].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[11].ecartRemunerationMoyenne\n          ]}\n        />\n        <RowData\n          name={displayNameCategorieSocioPro(CategorieSocioPro.Cadres)}\n          data={[\n            effectifEtEcartRemuParTranche[12].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[13].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[14].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[15].ecartRemunerationMoyenne\n          ]}\n        />\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurUn;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState, CategorieSocioPro } from \"../../globals.d\";\n\nimport { displayNameCategorieSocioPro } from \"../../utils/helpers\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\nimport { RowDataFull, RowLabelFull } from \"./components/RowData\";\n\ninterface Props {\n  indicateurDeuxFormValidated: FormState;\n  indicateurDeuxCalculable: boolean;\n  effectifEtEcartAugmentParGroupe: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    ecartTauxAugmentation: number | undefined;\n  }>;\n  indicateurEcartAugmentation: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurDeux: number | undefined;\n}\n\nfunction RecapitulatifIndicateurDeux({\n  indicateurDeuxFormValidated,\n  indicateurDeuxCalculable,\n  effectifEtEcartAugmentParGroupe,\n  indicateurEcartAugmentation,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeux\n}: Props) {\n  if (indicateurDeuxFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  if (!indicateurDeuxCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n          text=\"Malheureusement votre indicateur est incalculable car il n’y a pas eu d’augmentation durant la période de référence\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartAugmentation !== undefined\n              ? indicateurEcartAugmentation.toFixed(1)\n              : \"--\") + \" %\",\n          firstLineInfo: `écart favorable aux ${indicateurSexeSurRepresente}`,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") +\n            \"/20\",\n          secondLineInfo: \"mesures de correction prises en compte\"\n        }}\n      >\n        <RowLabelFull label=\"écart de taux d’augmentation par csp\" />\n\n        {effectifEtEcartAugmentParGroupe.map(\n          ({ categorieSocioPro, ecartTauxAugmentation }) => (\n            <RowDataFull\n              key={categorieSocioPro}\n              name={displayNameCategorieSocioPro(categorieSocioPro)}\n              data={ecartTauxAugmentation}\n            />\n          )\n        )}\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurDeux;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState, CategorieSocioPro } from \"../../globals.d\";\n\nimport { displayNameCategorieSocioPro } from \"../../utils/helpers\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\nimport { RowDataFull, RowLabelFull } from \"./components/RowData\";\n\ninterface Props {\n  indicateurTroisFormValidated: FormState;\n  indicateurTroisCalculable: boolean;\n  effectifEtEcartPromoParGroupe: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    ecartTauxPromotion: number | undefined;\n  }>;\n  indicateurEcartPromotion: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurTrois: number | undefined;\n}\n\nfunction RecapitulatifIndicateurTrois({\n  indicateurTroisFormValidated,\n  indicateurTroisCalculable,\n  effectifEtEcartPromoParGroupe,\n  indicateurEcartPromotion,\n  indicateurSexeSurRepresente,\n  noteIndicateurTrois\n}: Props) {\n  if (indicateurTroisFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  if (!indicateurTroisCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n          text=\"Malheureusement votre indicateur est incalculable car il n’y a pas eu de promotion durant la période de référence\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartPromotion !== undefined\n              ? indicateurEcartPromotion.toFixed(1)\n              : \"--\") + \" %\",\n          firstLineInfo: `écart favorable aux ${indicateurSexeSurRepresente}`,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") +\n            \"/15\",\n          secondLineInfo: \"mesures de correction prises en compte\"\n        }}\n      >\n        <RowLabelFull label=\"écart de taux de promotion par csp\" />\n\n        {effectifEtEcartPromoParGroupe.map(\n          ({ categorieSocioPro, ecartTauxPromotion }) => (\n            <RowDataFull\n              key={categorieSocioPro}\n              name={displayNameCategorieSocioPro(categorieSocioPro)}\n              data={ecartTauxPromotion}\n            />\n          )\n        )}\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurTrois;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../../globals.d\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\ninterface Props {\n  indicateurQuatreFormValidated: FormState;\n  indicateurQuatreCalculable: boolean;\n  indicateurEcartNombreSalarieesAugmentees: number | undefined;\n  noteIndicateurQuatre: number | undefined;\n}\n\nfunction RecapitulatifIndicateurQuatre({\n  indicateurQuatreFormValidated,\n  indicateurQuatreCalculable,\n  indicateurEcartNombreSalarieesAugmentees,\n  noteIndicateurQuatre\n}: Props) {\n  if (indicateurQuatreFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  if (!indicateurQuatreCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n          text=\"Malheureusement votre indicateur est incalculable car il n’y a pas eu de congé maternité durant la période de référence\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartNombreSalarieesAugmentees !== undefined\n              ? indicateurEcartNombreSalarieesAugmentees.toFixed(1)\n              : \"--\") + \" %\",\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurQuatre !== undefined ? noteIndicateurQuatre : \"--\") +\n            \"/15\"\n        }}\n      >\n        {null}\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurQuatre;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../../globals.d\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\ninterface Props {\n  indicateurCinqFormValidated: FormState;\n  indicateurSexeSousRepresente: \"hommes\" | \"femmes\" | \"egalite\" | undefined;\n  indicateurNombreSalariesSexeSousRepresente: number | undefined;\n  noteIndicateurCinq: number | undefined;\n}\n\nfunction RecapitulatifIndicateurCinq({\n  indicateurCinqFormValidated,\n  indicateurSexeSousRepresente,\n  indicateurNombreSalariesSexeSousRepresente,\n  noteIndicateurCinq\n}: Props) {\n  if (indicateurCinqFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 5, nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  const firstLineInfo =\n    indicateurSexeSousRepresente === undefined\n      ? undefined\n      : indicateurSexeSousRepresente === \"egalite\"\n      ? \"les hommes et les femmes sont à parité\"\n      : indicateurSexeSousRepresente === \"hommes\"\n      ? \"les femmes sont sur-représentées\"\n      : \"les hommes sont sur-représentés\";\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 5, nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            indicateurNombreSalariesSexeSousRepresente !== undefined\n              ? String(indicateurNombreSalariesSexeSousRepresente)\n              : \"--\",\n          firstLineInfo,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurCinq !== undefined ? noteIndicateurCinq : \"--\") +\n            \"/10\"\n        }}\n      >\n        {null}\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurCinq;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport { AppState } from \"../../globals.d\";\n\nimport calculIndicateurUn from \"../../utils/calculsEgaProIndicateurUn\";\nimport calculIndicateurDeux from \"../../utils/calculsEgaProIndicateurDeux\";\nimport calculIndicateurTrois from \"../../utils/calculsEgaProIndicateurTrois\";\nimport calculIndicateurQuatre from \"../../utils/calculsEgaProIndicateurQuatre\";\nimport calculIndicateurCinq from \"../../utils/calculsEgaProIndicateurCinq\";\nimport { calculNoteIndex } from \"../../utils/calculsEgaProIndex\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport Page from \"../../components/Page\";\n\nimport RecapitulatifIndicateurUn from \"./RecapitulatifIndicateurUn\";\nimport RecapitulatifIndicateurDeux from \"./RecapitulatifIndicateurDeux\";\nimport RecapitulatifIndicateurTrois from \"./RecapitulatifIndicateurTrois\";\nimport RecapitulatifIndicateurQuatre from \"./RecapitulatifIndicateurQuatre\";\nimport RecapitulatifIndicateurCinq from \"./RecapitulatifIndicateurCinq\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n}\n\nfunction Recapitulatif({ state }: Props) {\n  const {\n    effectifEtEcartRemuParTranche,\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente: indicateurUnSexeSurRepresente,\n    noteIndicateurUn\n  } = calculIndicateurUn(state);\n\n  const {\n    indicateurCalculable: indicateurDeuxCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurEcartAugmentation,\n    indicateurSexeSurRepresente: indicateurDeuxSexeSurRepresente,\n    noteIndicateurDeux\n  } = calculIndicateurDeux(state);\n\n  const {\n    indicateurCalculable: indicateurTroisCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurEcartPromotion,\n    indicateurSexeSurRepresente: indicateurTroisSexeSurRepresente,\n    noteIndicateurTrois\n  } = calculIndicateurTrois(state);\n\n  const {\n    indicateurCalculable: indicateurQuatreCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre\n  } = calculIndicateurQuatre(state);\n\n  const {\n    indicateurSexeSousRepresente: indicateurCinqSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq\n  } = calculIndicateurCinq(state);\n\n  const allIndicateurValid =\n    state.indicateurUn.formValidated === \"Valid\" &&\n    state.indicateurDeux.formValidated === \"Valid\" &&\n    state.indicateurTrois.formValidated === \"Valid\" &&\n    state.indicateurQuatre.formValidated === \"Valid\" &&\n    state.indicateurCinq.formValidated === \"Valid\";\n\n  const noteIndex = calculNoteIndex(\n    noteIndicateurUn,\n    noteIndicateurDeux,\n    noteIndicateurTrois,\n    noteIndicateurQuatre,\n    noteIndicateurCinq\n  );\n\n  return (\n    <Page\n      title=\"Récapitulatif des résultats de vos indicateurs\"\n      tagline=\"Oubliez pas de décalarer vos résultats sur SOLEN avant le 1er septembre.\"\n    >\n      <div css={styles.indexBloc}>\n        {allIndicateurValid ? (\n          <InfoBloc\n            title=\"Index égalité homme-femme\"\n            text={`votre résultat total est ${noteIndex}/100`}\n          />\n        ) : (\n          <InfoBloc\n            title=\"Index égalité homme-femme\"\n            text=\"Vous n’avez pas encore validé tous vos indicateur, votre index ne peut-être calculé.\"\n          />\n        )}\n      </div>\n      <RecapitulatifIndicateurUn\n        indicateurUnFormValidated={state.indicateurUn.formValidated}\n        effectifEtEcartRemuParTranche={effectifEtEcartRemuParTranche}\n        indicateurEcartRemuneration={indicateurEcartRemuneration}\n        indicateurSexeSurRepresente={indicateurUnSexeSurRepresente}\n        noteIndicateurUn={noteIndicateurUn}\n      />\n      <RecapitulatifIndicateurDeux\n        indicateurDeuxFormValidated={state.indicateurDeux.formValidated}\n        indicateurDeuxCalculable={indicateurDeuxCalculable}\n        effectifEtEcartAugmentParGroupe={effectifEtEcartAugmentParGroupe}\n        indicateurEcartAugmentation={indicateurEcartAugmentation}\n        indicateurSexeSurRepresente={indicateurDeuxSexeSurRepresente}\n        noteIndicateurDeux={noteIndicateurDeux}\n      />\n      <RecapitulatifIndicateurTrois\n        indicateurTroisFormValidated={state.indicateurTrois.formValidated}\n        indicateurTroisCalculable={indicateurTroisCalculable}\n        effectifEtEcartPromoParGroupe={effectifEtEcartPromoParGroupe}\n        indicateurEcartPromotion={indicateurEcartPromotion}\n        indicateurSexeSurRepresente={indicateurTroisSexeSurRepresente}\n        noteIndicateurTrois={noteIndicateurTrois}\n      />\n      <RecapitulatifIndicateurQuatre\n        indicateurQuatreFormValidated={state.indicateurQuatre.formValidated}\n        indicateurQuatreCalculable={indicateurQuatreCalculable}\n        indicateurEcartNombreSalarieesAugmentees={\n          indicateurEcartNombreSalarieesAugmentees\n        }\n        noteIndicateurQuatre={noteIndicateurQuatre}\n      />\n      <RecapitulatifIndicateurCinq\n        indicateurCinqFormValidated={state.indicateurCinq.formValidated}\n        indicateurSexeSousRepresente={indicateurCinqSexeSousRepresente}\n        indicateurNombreSalariesSexeSousRepresente={\n          indicateurNombreSalariesSexeSousRepresente\n        }\n        noteIndicateurCinq={noteIndicateurCinq}\n      />\n    </Page>\n  );\n}\n\nconst styles = {\n  indexBloc: css({\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default Recapitulatif;\n","import Recapitulatif from \"./Recapitulatif\";\nexport default Recapitulatif;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport Page from \"../components/Page\";\n\nimport ActionBar from \"../components/ActionBar\";\nimport Button from \"../components/Button\";\n\nfunction PageNotFound({ history }: RouteComponentProps) {\n  return (\n    <Page title=\"Malheureusement la page que vous cherchez n’existe pas !\">\n      <ActionBar>\n        <div onClick={() => history.goBack()}>\n          <Button label=\"retour\" />\n        </div>\n      </ActionBar>\n    </Page>\n  );\n}\n\nexport default PageNotFound;\n","type EnumType = { [s: number]: string };\n\nexport default function mapEnum(enumerable: EnumType, fn: Function): any[] {\n  // get all the members of the enum\n  let enumMembers: any[] = Object.keys(enumerable).map(\n    (key: any) => enumerable[key]\n  );\n\n  // we are only interested in the numeric identifiers as these represent the values\n  let enumValues: number[] = enumMembers.filter(v => typeof v === \"number\");\n\n  // now map through the enum values\n  return enumValues.map(m => fn(m));\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useReducer, useEffect, useCallback, ReactNode } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  withRouter,\n  RouteComponentProps\n} from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  TranchesAges,\n  CategorieSocioPro,\n  ActionEffectifData\n} from \"./globals.d\";\n\nimport globalStyles from \"./utils/globalStyles\";\nimport mapEnum from \"./utils/mapEnum\";\n\nimport AppReducer from \"./AppReducer\";\n\nimport GridProvider from \"./components/GridContext\";\nimport Header from \"./components/Header\";\nimport Menu from \"./components/Menu\";\n\nimport FAQ from \"./views/FAQ\";\n\nimport Home from \"./views/Home\";\nimport GroupEffectif from \"./views/GroupEffectif\";\nimport IndicateurUn from \"./views/IndicateurUn\";\nimport IndicateurDeux from \"./views/IndicateurDeux\";\nimport IndicateurTrois from \"./views/IndicateurTrois\";\nimport IndicateurQuatre from \"./views/IndicateurQuatre\";\nimport IndicateurCinq from \"./views/IndicateurCinq\";\nimport Recapitulatif from \"./views/Recapitulatif\";\nimport PageNotFound from \"./views/PageNotFound\";\n\nconst baseGroupTranchesAgesState = {\n  nombreSalariesFemmes: undefined,\n  nombreSalariesHommes: undefined,\n  remunerationAnnuelleBrutFemmes: undefined,\n  remunerationAnnuelleBrutHommes: undefined\n};\n\nconst baseTranchesAge = mapEnum(TranchesAges, (trancheAge: TranchesAges) => ({\n  trancheAge,\n  ...baseGroupTranchesAgesState\n}));\n\nconst baseGroupe = {\n  tranchesAges: [...baseTranchesAge],\n  tauxAugmentationFemmes: undefined,\n  tauxAugmentationHommes: undefined,\n  tauxPromotionFemmes: undefined,\n  tauxPromotionHommes: undefined\n};\n\nconst defaultState: AppState = {\n  data: [\n    {\n      categorieSocioPro: CategorieSocioPro.Ouvriers,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Employes,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Techniciens,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Cadres,\n      ...baseGroupe\n    }\n  ],\n  effectif: {\n    formValidated: \"None\"\n  },\n  indicateurUn: {\n    formValidated: \"None\"\n  },\n  indicateurDeux: {\n    formValidated: \"None\",\n    presenceAugmentation: true\n  },\n  indicateurTrois: {\n    formValidated: \"None\",\n    presencePromotion: true\n  },\n  indicateurQuatre: {\n    formValidated: \"None\",\n    presenceAugmentation: true,\n    nombreSalariees: undefined,\n    nombreSalarieesPeriodeAugmentation: undefined,\n    nombreSalarieesAugmentees: undefined\n  },\n  indicateurCinq: {\n    formValidated: \"None\",\n    nombreSalariesHommes: undefined,\n    nombreSalariesFemmes: undefined\n  }\n};\n\nconst localStorageEgapro = localStorage.getItem(\"egapro\");\nconst initialState = localStorageEgapro\n  ? JSON.parse(localStorageEgapro)\n  : defaultState;\n\nfunction App() {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  useEffect(() => {\n    const stateStringify = JSON.stringify(state);\n    localStorage.setItem(\"egapro\", stateStringify);\n  }, [state]);\n\n  const updateEffectif = useCallback(\n    (data: ActionEffectifData) => dispatch({ type: \"updateEffectif\", data }),\n    [dispatch]\n  );\n\n  const validateEffectif = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateEffectif\", valid }),\n    [dispatch]\n  );\n\n  return (\n    <Router basename=\"/egapro\">\n      <GridProvider>\n        <div css={styles.layout}>\n          <div css={styles.leftColumn}>\n            <Header />\n\n            <MainScrollViewWithRouter state={state}>\n              <Switch>\n                <Route path=\"/\" exact render={props => <Home {...props} />} />\n                <Route\n                  path=\"/effectifs\"\n                  render={props => (\n                    <GroupEffectif\n                      {...props}\n                      state={state}\n                      updateEffectif={updateEffectif}\n                      validateEffectif={validateEffectif}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur1\"\n                  render={props => (\n                    <IndicateurUn\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur2\"\n                  render={props => (\n                    <IndicateurDeux\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur3\"\n                  render={props => (\n                    <IndicateurTrois\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur4\"\n                  render={props => (\n                    <IndicateurQuatre\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur5\"\n                  render={props => (\n                    <IndicateurCinq\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/recapitulatif\"\n                  render={props => <Recapitulatif {...props} state={state} />}\n                />\n                <Route component={PageNotFound} />\n              </Switch>\n            </MainScrollViewWithRouter>\n          </div>\n\n          <div css={styles.rightColumn}>\n            <FAQ />\n          </div>\n        </div>\n      </GridProvider>\n    </Router>\n  );\n}\n\ninterface MainScrollViewProps extends RouteComponentProps {\n  children: ReactNode;\n  state: AppState;\n}\n\nfunction MainScrollView({ children, state, location }: MainScrollViewProps) {\n  // Usefull to reset the scroll while navigating\n  return (\n    <div css={styles.main} key={location.key}>\n      <div css={styles.menu}>\n        <Menu\n          effectifFormValidated={state.effectif.formValidated}\n          indicateurUnFormValidated={state.indicateurUn.formValidated}\n          indicateurDeuxFormValidated={state.indicateurDeux.formValidated}\n          indicateurTroisFormValidated={state.indicateurTrois.formValidated}\n          indicateurQuatreFormValidated={state.indicateurQuatre.formValidated}\n          indicateurCinqFormValidated={state.indicateurCinq.formValidated}\n        />\n      </div>\n      <div css={styles.view}>{children}</div>\n    </div>\n  );\n}\nconst MainScrollViewWithRouter = withRouter(MainScrollView);\n\nconst styles = {\n  layout: css({\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  }),\n  leftColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    maxWidth: globalStyles.grid.maxWidth - 375\n  }),\n  rightColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 375,\n    flexShrink: 0\n  }),\n  main: css({\n    overflowY: \"auto\",\n    display: \"flex\",\n    flex: 1,\n    position: \"relative\",\n    background:\n      \"linear-gradient(0.08deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 99.84%), #EFF0FA\",\n    borderRight: \"1px solid #EFECEF\"\n  }),\n  menu: css({\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    paddingBottom: 80\n  }),\n  view: css({\n    flex: 1\n  })\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}